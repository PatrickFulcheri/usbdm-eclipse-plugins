<?xml version="1.0" encoding="ISO-8859-1"?>
<template
   type="ProjTempl"
   version="1.0"
   supplier="pgo"
   revision="1.0"
   author="Peter O'Donoghue"
   id="Coldfire"
   label="Kinetis EXE"
   description="A Basic GCC Project for Kinetis with USBDM debug support."
   help="help.html"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation='..//TemplateDescriptorSchema.xsd'>
   <property-group
      id="usbdm_properties"
      label="USBDM Settings"
      description="USBDM specific project properties"
      type="PAGES-ONLY"
      help="help.html">
      <property
         id="targetDeviceName"
         label="Target Device"
         hidden="false"
         description="The name of the target device"
         type="input"
         default=""
         pattern="[a-zA-Z0-9]+"
         mandatory="true"
         persist="true" />
      <!-- property id="targetType" label="Target Type" description="Select 
         the target type" type="select" default="app" hidden="false" mandatory="true" 
         persist="true"> <item label="APP" name="app" /> <item label="LIB" name="lib" 
         /> <item label="DLL" name="dll" /> <item label="EXE" name="exe" /> <item 
         label="EXEDLL" name="exedll" /> </property -->
   </property-group>
   <process type="org.eclipse.cdt.managedbuilder.core.NewManagedProject">
      <simple name="name" value="$(projectName)" /> 
      <simple name="artifactExtension" value="exe" /> 
      <simple name="isCProject" value="true" /> 
   </process>
   <process type="org.eclipse.cdt.core.CreateSourceFolder">
      <simple name="projectName"  value="$(projectName)" />
      <simple name="path"         value="Source" />
   </process>
   <process type="org.eclipse.cdt.core.CreateSourceFolder">
      <simple name="projectName"  value="$(projectName)" />
      <simple name="path"         value="Startup_Code" />
   </process>
   <process type="org.eclipse.cdt.core.CreateFolder">
      <simple name="projectName"  value="$(projectName)" />
      <simple name="path"         value="Project_Settings" />
   </process>
   <process type="org.eclipse.cdt.managedbuilder.core.CreateIncludeFolder">
      <simple name="projectName"  value="$(projectName)" />
      <simple name="path"         value="Project_Headers" />
   </process>
   <process type="org.eclipse.cdt.core.AddFiles">
      <simple name="projectName"  value="$(projectName)" />
      <complex-array name="files">
         <element>
            <simple name="source"      value="Project_Headers/derivative.h" />
            <simple name="target"      value="Project_Headers/derivative.h" />
            <simple name="replaceable" value="true" />
         </element>
         <element>
            <simple name="source"      value="Project_Headers/TargetDevice.h" />
            <simple name="target"      value="Project_Headers/$(targetDeviceName).h" />
            <simple name="replaceable" value="true" />
         </element>
         <element>
            <simple name="source"       value="Project_Settings/Codesourcery-Target Debug.launch" />
            <simple name="target"       value="Project_Settings/Codesourcery-$(targetDeviceName) Debug.launch" />
            <simple name="replaceable"  value="true" />
         </element>
         <element>
            <simple name="source"       value="Project_Settings/Target-flash.ld" />
            <simple name="target"       value="Project_Settings/$(targetDeviceName)-flash.ld" />
            <simple name="replaceable"  value="true" />
         </element>
         <element>
            <simple name="source"       value="Source/main.cpp" />
            <simple name="target"       value="Source/main.cpp" />
            <simple name="replaceable"  value="true" />
         </element>
         <element>
            <simple name="source"       value="Startup_Code/start_c.c" />
            <simple name="target"       value="Startup_Code/start_c.c" />
            <simple name="replaceable"  value="true" />
         </element>
         <element>
            <simple name="source"       value="Startup_Code/start.S" />
            <simple name="target"       value="Startup_Code/start.S" />
            <simple name="replaceable"  value="true" />
         </element>
         <element>
            <simple name="source"       value="Startup_Code/sysinit.c" />
            <simple name="target"       value="Startup_Code/sysinit.c" />
            <simple name="replaceable"  value="true" />
         </element>
         <element>
            <simple name="source"       value="Startup_Code/vectors.c" />
            <simple name="target"       value="Startup_Code/vectors.c" />
            <simple name="replaceable"  value="true" />
         </element>
      </complex-array>
   </process>
   <process
      type="org.eclipse.cdt.managedbuilder.core.AppendToMBSStringListOptionValues">
      <simple
         name="projectName" value="$(projectName)" />
      <complex-array name="resourcePaths">
         <element>
            <simple name="id"  value=".*linker\.libraries\.libraries.*" />
            <simple-array name="values">
               <element value="euser.lib" />
            </simple-array>
            <simple name="path" value="" />
         </element>
      </complex-array>
   </process>
   <process type="org.eclipse.cdt.ui.OpenFiles">
      <simple name="projectName" value="$(projectName)"/>
      <complex-array name="files">
         <element>
            <simple name="target" value="Source/main.c"/>
         </element>
      </complex-array>
   </process>
</template>
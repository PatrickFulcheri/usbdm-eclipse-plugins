<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>USBDM: Project_Headers/spi.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">USBDM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_35b2bb0456da6899b329243c75a0792d.html">Project_Headers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">spi.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="spi_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * @file     spi.h (180.ARM_Peripherals/Project_Headers/spi-MK.h)</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @brief    Serial Peripheral Interface</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @version  V4.12.1.80</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @date     13 April 2016</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef INCLUDE_USBDM_SPI_H_</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#define INCLUDE_USBDM_SPI_H_</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * *****************************</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * *** DO NOT EDIT THIS FILE ***</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * *****************************</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * This file is generated automatically.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Any manual changes will be lost.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="derivative_8h.html">derivative.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hardware_8h.html">hardware.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#ifdef __CMSIS_RTOS</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cmsis_8h.html">cmsis.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_u_s_b_d_m.html">USBDM</a> {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * @addtogroup SPI_Group SPI, Serial Peripheral Interface</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * @brief C++ Class allowing access to SPI interface</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * @{</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * Type definition for DMA interrupt call back</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * @param status Interrupt status value from SPI-&gt;SR</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga2f82d5c5cf2795a2a451a9394af06c6c">   37</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="group___s_p_i___group.html#ga2f82d5c5cf2795a2a451a9394af06c6c">SpiCallbackFunction</a>)(uint32_t status);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga2268eed5b839520e31e33af1fed92840">   39</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#ga2268eed5b839520e31e33af1fed92840">SpiMode</a> {</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840ac7f86e7a769af255fc0287dd23b0b87b">   40</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840ac7f86e7a769af255fc0287dd23b0b87b">SpiMode_0</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad04548e76bbaa595940fc1d043cdbace">SPI_CTAR_CPOL</a>(0)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga967844b3614749fa16ce2ddc72549653">SPI_CTAR_CPHA</a>(0), <span class="comment">// Active-high clock (idles low), Data is captured on leading edge of SCK and changes on the following edge.</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840af8e51e30adac618698a8538eee4b2e9d">   41</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840af8e51e30adac618698a8538eee4b2e9d">SpiMode_1</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad04548e76bbaa595940fc1d043cdbace">SPI_CTAR_CPOL</a>(0)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga967844b3614749fa16ce2ddc72549653">SPI_CTAR_CPHA</a>(1), <span class="comment">// Active-high clock (idles low), Data is changes on leading edge of SCK and captured on the following edge.</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840aa128f710d4ac8769d552907d7a698af7">   42</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840aa128f710d4ac8769d552907d7a698af7">SpiMode_2</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad04548e76bbaa595940fc1d043cdbace">SPI_CTAR_CPOL</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga967844b3614749fa16ce2ddc72549653">SPI_CTAR_CPHA</a>(0), <span class="comment">// Active-low clock (idles high), Data is captured on leading edge of SCK and changes on the following edge.</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840abb95e0a53e395f78047425a6765b517a">   43</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840abb95e0a53e395f78047425a6765b517a">SpiMode_3</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad04548e76bbaa595940fc1d043cdbace">SPI_CTAR_CPOL</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga967844b3614749fa16ce2ddc72549653">SPI_CTAR_CPHA</a>(1), <span class="comment">// Active-low clock (idles high), Data is changes on leading edge of SCK and captured on the following edge.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;};</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga385460784a6be6c97fa95c527db55b30">   46</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#ga385460784a6be6c97fa95c527db55b30">SpiOrder</a> {</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga385460784a6be6c97fa95c527db55b30acb651e5cb1480fa8a12d089515d74b9d">   47</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga385460784a6be6c97fa95c527db55b30acb651e5cb1480fa8a12d089515d74b9d">SpiOrder_MsbFirst</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga4c9cea463fa7641c820c5622500cd296">SPI_CTAR_LSBFE</a>(0),</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga385460784a6be6c97fa95c527db55b30abce3faa25dbc2bc3ea0bc5ca7d5e50e9">   48</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga385460784a6be6c97fa95c527db55b30abce3faa25dbc2bc3ea0bc5ca7d5e50e9">SpiOrder_LsbFirst</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga4c9cea463fa7641c820c5622500cd296">SPI_CTAR_LSBFE</a>(1),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;};</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * Transmit FIFO Fill Request interrupt/DMA enable (TFFF flag)</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gab9c61acefc026b506de46a7d251980c5">   54</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#gab9c61acefc026b506de46a7d251980c5">SpiFifoTxRequest</a> {</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5a137249126e1d001dccf10b839921d086">   55</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5a137249126e1d001dccf10b839921d086">SpiFifoTxRequest_Disabled</a>  = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gacec859c23755e68e8b6ca6ee2d42cec4">SPI_RSER_TFFF_DIRS</a>(0)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga57eacd49a756b99850d51f17e5d80475">SPI_RSER_TFFF_RE</a>(0),  <span class="comment">// Requests disabled</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5af8aea8e913e5c190244d723fd8c62272">   56</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5af8aea8e913e5c190244d723fd8c62272">SpiFifoTxRequest_Interrupt</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gacec859c23755e68e8b6ca6ee2d42cec4">SPI_RSER_TFFF_DIRS</a>(0)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga57eacd49a756b99850d51f17e5d80475">SPI_RSER_TFFF_RE</a>(1),  <span class="comment">// Generate FIFO Fill Interrupt requests (TFFF flag)</span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5a6473c0fd70acb526e269aada9cd7ba50">   57</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5a6473c0fd70acb526e269aada9cd7ba50">SpiFifoTxRequest_Dma</a>       = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gacec859c23755e68e8b6ca6ee2d42cec4">SPI_RSER_TFFF_DIRS</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga57eacd49a756b99850d51f17e5d80475">SPI_RSER_TFFF_RE</a>(1),  <span class="comment">// Generate FIFO Fill DMA requests (TFFF flag)</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;};</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> * Receive FIFO Drain Request interrupt/DMA enable (RFDF flag)</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga166d71a39a4435151adbcfd0776e5f42">   63</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#ga166d71a39a4435151adbcfd0776e5f42">SpiFifoRxRequest</a> {</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42a6cd016876d8d6dc4b5952b24184e3735">   64</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42a6cd016876d8d6dc4b5952b24184e3735">SpiFifoRxRequest_Disabled</a>  = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gac0822dc99c670f67d28ee973bc6dd9ec">SPI_RSER_RFDF_DIRS</a>(0)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga220c88340bd372ec2b1a91557caac1b6">SPI_RSER_RFDF_RE</a>(0),  <span class="comment">// Requests disabled</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42aceebc052ab86522769f8fcbc7e8c73a7">   65</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42aceebc052ab86522769f8fcbc7e8c73a7">SpiFifoRxRequest_Interrupt</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gac0822dc99c670f67d28ee973bc6dd9ec">SPI_RSER_RFDF_DIRS</a>(0)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga220c88340bd372ec2b1a91557caac1b6">SPI_RSER_RFDF_RE</a>(1),  <span class="comment">// Generate FIFO Drain Interrupt requests (RSER flag)</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42a4ad1fe42affd2d19652902fd16528904">   66</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42a4ad1fe42affd2d19652902fd16528904">SpiFifoRxRequest_Dma</a>       = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gac0822dc99c670f67d28ee973bc6dd9ec">SPI_RSER_RFDF_DIRS</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga220c88340bd372ec2b1a91557caac1b6">SPI_RSER_RFDF_RE</a>(1),  <span class="comment">// Generate FIFO Drain DMA requests (RSER flag)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;};</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * Controls Transmit FIFO Underflow interrupts (TFUF flag)</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gaa1b02c943327bca3733dae0586a26489">   72</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#gaa1b02c943327bca3733dae0586a26489">SpiFifoUnderflowInterrupt</a> {</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ggaa1b02c943327bca3733dae0586a26489ab81227a7650e9609a5bf037519bac907">   73</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#ggaa1b02c943327bca3733dae0586a26489ab81227a7650e9609a5bf037519bac907">SpiFifoUnderflowInterrupt_Disabled</a>  = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga0d53d442648e115ee18c1f0f6ed065c3">SPI_RSER_TFUF_RE</a>(0),   <span class="comment">// Transmit FIFO Underflow interrupts disabled</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ggaa1b02c943327bca3733dae0586a26489a87cafbf6da5a8eebaa795e91d1cc6764">   74</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#ggaa1b02c943327bca3733dae0586a26489a87cafbf6da5a8eebaa795e91d1cc6764">SpiFifoUnderflowInterrupt_Enabled</a>   = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga0d53d442648e115ee18c1f0f6ed065c3">SPI_RSER_TFUF_RE</a>(1),   <span class="comment">// Transmit FIFO Underflow interrupts enabled (TFUF flag)</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;};</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> * Controls Receive FIFO Overflow interrupts (RFOF flag)</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gad16f361d50392ae9c2b482346bff226d">   80</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#gad16f361d50392ae9c2b482346bff226d">SpiFifoOverflowInterrupt</a> {</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ggad16f361d50392ae9c2b482346bff226da9059c00ac0a41a61be4716f40dce71cf">   81</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#ggad16f361d50392ae9c2b482346bff226da9059c00ac0a41a61be4716f40dce71cf">SpiFifoOverflowInterrupt_Disabled</a>  = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga23fe74057428ef330f653fe2115d270b">SPI_RSER_RFOF_RE</a>(0),   <span class="comment">// Receive FIFO Overflow interrupts disabled</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ggad16f361d50392ae9c2b482346bff226da325d1ed2b180cb430d8564b5bdc621f1">   82</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#ggad16f361d50392ae9c2b482346bff226da325d1ed2b180cb430d8564b5bdc621f1">SpiFifoOverflowInterrupt_Enabled</a>   = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga23fe74057428ef330f653fe2115d270b">SPI_RSER_RFOF_RE</a>(1),   <span class="comment">// Receive FIFO Overflow interrupts enabled (RFOF flag)</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;};</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> * Controls Transmit complete interrupts (TCF Flag)</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga24da8a6a97bc07dfa541aa1ff123133e">   88</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#ga24da8a6a97bc07dfa541aa1ff123133e">SpiTxCompleteInterrupt</a> {</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga24da8a6a97bc07dfa541aa1ff123133ea68ec23e62eee00ae851bd97b8660a5ad">   89</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga24da8a6a97bc07dfa541aa1ff123133ea68ec23e62eee00ae851bd97b8660a5ad">SpiTxCompleteInterrupt_Disabled</a> = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga619908c67a62a0a51b8514f9629e0361">SPI_RSER_TCF_RE</a>(0),    <span class="comment">// Transmission Complete Request Enable (TCF Flag)</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga24da8a6a97bc07dfa541aa1ff123133ea78fe17a06fb7dae03e0646589cb9fd1f">   90</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga24da8a6a97bc07dfa541aa1ff123133ea78fe17a06fb7dae03e0646589cb9fd1f">SpiTxCompleteInterrupt_Enabled</a>  = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga619908c67a62a0a51b8514f9629e0361">SPI_RSER_TCF_RE</a>(1),    <span class="comment">// Transmission Complete Request Enable (TCF Flag)</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;};<span class="comment"></span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"> * Controls DSPI Finished interrupts (EOQF flag)</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga78518edc7052d91f8c4685f4827d0064">   95</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="group___s_p_i___group.html#ga78518edc7052d91f8c4685f4827d0064">SpiEndOfQueueInterrupt</a> {</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga78518edc7052d91f8c4685f4827d0064a8d420aa5ca27834b2a8394ad9753bcb4">   96</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga78518edc7052d91f8c4685f4827d0064a8d420aa5ca27834b2a8394ad9753bcb4">SpiEndOfQueueInterrupt_Disable</a>   = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad3604b04d87365a05286029814555e09">SPI_RSER_EOQF_RE</a>(0),   <span class="comment">// DSPI Finished Request Disabled</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gga78518edc7052d91f8c4685f4827d0064ac4ba4d91a0913773e0d0bee0b2a953ff">   97</a></span>&#160;   <a class="code" href="group___s_p_i___group.html#gga78518edc7052d91f8c4685f4827d0064ac4ba4d91a0913773e0d0bee0b2a953ff">SpiEndOfQueueInterrupt_Enable</a>    = <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad3604b04d87365a05286029814555e09">SPI_RSER_EOQF_RE</a>(1),   <span class="comment">// DSPI Finished Request Enable (EOQF flag)</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;};</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga150096f5b48c7fc7fb9c89147ac178ea">   99</a></span>&#160;<span class="keyword">using</span> <a class="code" href="group___s_p_i___group.html#ga150096f5b48c7fc7fb9c89147ac178ea">SpiModeValue</a> = uint32_t;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"> * Calculate SPI mode value from components</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"> * @param[in]  spiMode  SPI Mode e.g. SpiMode_0</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"> * @param[in]  spiOrder Bit order e.g. SpiOrder_MsbFirst</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">static</span> constexpr <a class="code" href="group___s_p_i___group.html#ga150096f5b48c7fc7fb9c89147ac178ea">SpiModeValue</a> spiModeValue(<a class="code" href="group___s_p_i___group.html#ga2268eed5b839520e31e33af1fed92840">SpiMode</a> spiMode=<a class="code" href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840ac7f86e7a769af255fc0287dd23b0b87b">SpiMode_0</a>, <a class="code" href="group___s_p_i___group.html#ga385460784a6be6c97fa95c527db55b30">SpiOrder</a> spiOrder=<a class="code" href="group___s_p_i___group.html#gga385460784a6be6c97fa95c527db55b30acb651e5cb1480fa8a12d089515d74b9d">SpiOrder_MsbFirst</a>) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">return</span> spiMode|spiOrder;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> * @brief Base class for representing an SPI interface</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html">  114</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_u_s_b_d_m_1_1_spi.html">Spi</a> {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">   /** Callback to catch unhandled interrupt */</span></div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a2820c51cce4f704bfe51eef3b4ac1316">  118</a></span>&#160;   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a2820c51cce4f704bfe51eef3b4ac1316">unhandledCallback</a>(uint32_t) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      setAndCheckErrorCode(<a class="code" href="namespace_u_s_b_d_m.html#af5406ca776612b2687e916fb194ffd26a86427929463e65c0d9bc2d1cb22b425d">E_NO_HANDLER</a>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a465eafbb58de8a493e3854dd09bc6535">  122</a></span>&#160;   <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a465eafbb58de8a493e3854dd09bc6535">~Spi</a>() {}</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a14462e2d706938d5a9f5219e69dbf81a">  126</a></span>&#160;   <span class="keyword">volatile</span>  <a class="code" href="struct_s_p_i___type.html">SPI_Type</a> * <span class="keyword">const</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a14462e2d706938d5a9f5219e69dbf81a">spi</a>; <span class="comment">//!&lt; SPI hardware</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a9a650282795d085ccc6ac1c68029601f">  129</a></span>&#160;   uint32_t  <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a9a650282795d085ccc6ac1c68029601f">pushrMask</a>;            <span class="comment">//!&lt; Value to combine with data</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">    * Constructor</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">    * @param[in]  baseAddress    Base address of SPI</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a38e4a75ad31e628928115e298b34177b">  137</a></span>&#160;   <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a38e4a75ad31e628928115e298b34177b">Spi</a>(<span class="keyword">volatile</span> <a class="code" href="struct_s_p_i___type.html">SPI_Type</a> *baseAddress) :</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      spi(baseAddress), pushrMask(<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gae2a7d0ea8a143281112074fe3745a70c">SPI_PUSHR_PCS_MASK</a>) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">    * Calculate communication speed factors for SPI</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">    * @param[in]  frequency      =&gt; Communication frequency in Hz</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">    * @return CTAR register value including SPI_CTAR_BR, SPI_CTAR_PBR fields</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">    * Note: Chooses the highest speed that is not greater than frequency.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keyword">static</span> uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ac90be2d93df0b3956dc6809bbecd6ca3">calculateDividers</a>(uint32_t clockFrequency, uint32_t frequency);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">    * Calculate communication speed from SPI clock frequency and speed factors</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">    * @param[in]  clockFactors   =&gt; CTAR register value providing SPI_CTAR_BR, SPI_CTAR_PBR fields</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">    * @return Clock frequency of SPI in Hz for these factors</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keyword">static</span> uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a0d44a97c1024705823485b5425767588">calculateSpeed</a>(uint32_t clockFrequency, uint32_t clockFactors);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">    * Calculate Delay factors</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">    * Used for ASC, DT and CSSCK</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">    * @param[in]  delay          =&gt; Desired delay in seconds</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    * @param[in]  bestPrescale   =&gt; Best prescaler value (0=&gt;/1, 1=&gt;/3, 2=/5, 3=&gt;/7)</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">    * @param[in]  bestDivider    =&gt; Best divider value (N=&gt;/(2**(N+1)))</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">    * @return true</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">    * Note: Determines bestPrescaler and bestDivider for the smallest delay that is not less than delay.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a15ef188da1dddfb5ce90374b5cea4569">calculateDelay</a>(<span class="keywordtype">float</span> clockFrequency, <span class="keywordtype">float</span> delay, <span class="keywordtype">int</span> &amp;bestPrescale, <span class="keywordtype">int</span> &amp;bestDivider);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">    * Calculate Delay factors for CSSCK (PCS assertion to SCK Delay Scaler)</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">    * @param[in]  delay          =&gt; Desired delay in seconds</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">    * @return Masks for CTAR register</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    * Note: Determines value for the smallest delay that is not less than delay.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a30374c27343d3478dd1220dae4be74bb">  190</a></span>&#160;   <span class="keyword">static</span> uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a30374c27343d3478dd1220dae4be74bb">calculateCSSCK</a>(<span class="keywordtype">float</span> clockFrequency, <span class="keywordtype">float</span> delay) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordtype">int</span> bestPrescale, bestDivider;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a15ef188da1dddfb5ce90374b5cea4569">calculateDelay</a>(clockFrequency, delay, bestPrescale, bestDivider);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga1d67f4830c56355cfbee79721e4d30d3">SPI_CTAR_PCSSCK</a>(bestPrescale)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3c988f51f8a9ffc42af2b1c780796666">SPI_CTAR_CSSCK</a>(bestDivider);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    * Calculate Delay factors for ASC (SCK to PCS negation delay)</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">    * @param[in]  delay          =&gt; Desired delay in seconds</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">    * @return Masks for CTAR register</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">    * Note: Determines value for the smallest delay that is not less than delay.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a74fb8579db0492187c4053e8f2e03744">  206</a></span>&#160;   <span class="keyword">static</span> uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a74fb8579db0492187c4053e8f2e03744">calculateASC</a>(<span class="keywordtype">float</span> clockFrequency, <span class="keywordtype">float</span> delay) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordtype">int</span> bestPrescale, bestDivider;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a15ef188da1dddfb5ce90374b5cea4569">calculateDelay</a>(clockFrequency, delay, bestPrescale, bestDivider);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gae16156d09743ff57feb66a1e4c96d8c8">SPI_CTAR_PASC</a>(bestPrescale)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga2cd43b6b9241829083a88d903cc1ca2a">SPI_CTAR_ASC</a>(bestDivider);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">    * Calculate Delay factors for DT (PCS negation to PCS assertion delay between transfers)</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">    * @param[in]  delay          =&gt; Desired delay in seconds</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">    * @return Masks for CTAR register</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">    * Note: Determines value for the smallest delay that is not less than delay.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a0064dc31ad225f0a5a23dd971e9c6adf">  222</a></span>&#160;   <span class="keyword">static</span> uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a0064dc31ad225f0a5a23dd971e9c6adf">calculateDT</a>(<span class="keywordtype">float</span> clockFrequency, <span class="keywordtype">float</span> delay) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordtype">int</span> bestPrescale, bestDivider;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a15ef188da1dddfb5ce90374b5cea4569">calculateDelay</a>(clockFrequency, delay, bestPrescale, bestDivider);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga9b8b72764c75d047a2b4deb5a6a15619">SPI_CTAR_PDT</a>(bestPrescale)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga48f6e8c7555056687cfcc2c56fc63c46">SPI_CTAR_DT</a>(bestDivider);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    * Calculates the CTAR value for a given set of communication delays for SPI</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    * @param[in]  cssck          =&gt; PCS assertion to SCK Delay Scaler</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">    * @param[in]  asc            =&gt; SCK to PCS negation delay</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    * @param[in]  dt             =&gt; PCS negation to PCS assertion delay between transfers</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">    * @return Masks for CTAR register</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">    * Note: Determines values for the smallest delay that is not less than specified delays.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a9870b544b5d4cd356da95d872cc86f64">  240</a></span>&#160;   <span class="keyword">static</span> uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a9870b544b5d4cd356da95d872cc86f64">calculateDelays</a>(uint32_t clockFrequency, <span class="keywordtype">float</span> cssck=1*USBDM::us, <span class="keywordtype">float</span> asc=1*USBDM::us, <span class="keywordtype">float</span> dt=1*USBDM::us) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      uint32_t ctarValue;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      ctarValue  = <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a74fb8579db0492187c4053e8f2e03744">calculateASC</a>(clockFrequency, asc);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      ctarValue |= <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a0064dc31ad225f0a5a23dd971e9c6adf">calculateDT</a>(clockFrequency, dt);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      ctarValue |= <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a30374c27343d3478dd1220dae4be74bb">calculateCSSCK</a>(clockFrequency, cssck);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">return</span> ctarValue;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">    * Sets Communication speed for SPI</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">    * @param[in]  frequency      =&gt; Communication frequency in Hz</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">    * @param[in]  ctarNum        =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">    * Note: Chooses the highest speed that is not greater than frequency.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a3223bceddad1fffecec8a454dfba56c4">  257</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a3223bceddad1fffecec8a454dfba56c4">setSpeed</a>(uint32_t clockFrequency, uint32_t frequency, <span class="keywordtype">int</span> ctarNum) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum] = (spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum] &amp; ~(<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad1ba5817c825831950fc73cc726f0737">SPI_CTAR_BR_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga4f40ea2ab0d14559523ab0699fd682c6">SPI_CTAR_PBR_MASK</a>)) | <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ac90be2d93df0b3956dc6809bbecd6ca3">calculateDividers</a>(clockFrequency, frequency);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    * Sets the CTAR value for a given set of communication delays</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    * @param[in]  clockFrequency =&gt; Clock frequency of SPI in Hz</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">    * @param[in]  cssck          =&gt; PCS assertion to SCK Delay Scaler</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">    * @param[in]  asc            =&gt; SCK to PCS negation delay</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    * @param[in]  dt             =&gt; PCS negation to PCS assertion delay between transfers</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">    * @param[in]  ctarNum        =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">    * Note: Determines values for the smallest delay that is not less than specified delays.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#ad107ee953db666ff7730db34c0cf0ba6">  272</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ad107ee953db666ff7730db34c0cf0ba6">setDelays</a>(uint32_t clockFrequency, <span class="keywordtype">float</span> cssck, <span class="keywordtype">float</span> asc, <span class="keywordtype">float</span> dt, <span class="keywordtype">int</span> ctarNum) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      uint32_t ctarValue = spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum] &amp;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            ~(<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad15c92f5474cc1ba1ca2af14c92cbf26">SPI_CTAR_ASC_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3e9fd2ca2e90b6c40db0d51c8d8baa84">SPI_CTAR_PASC_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga7d4ee19c78f67b68c6320eefe6a53ac0">SPI_CTAR_DT_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3680f8dc0308705f06e234914edfa14b">SPI_CTAR_PDT_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga5c824276fa48ae7b05fc922d20d237c0">SPI_CTAR_CSSCK_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga27ec6f89727e91f1d272d06c6f1c44b3">SPI_CTAR_PCSSCK_MASK</a>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum] = ctarValue|<a class="code" href="class_u_s_b_d_m_1_1_spi.html#a9870b544b5d4cd356da95d872cc86f64">calculateDelays</a>(clockFrequency, cssck, asc, dt);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#ifdef __CMSIS_RTOS</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">    * Obtain SPI mutex and set SPI configuration</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">    * @param[in]  config       The configuration value to set for the transaction\n</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">    *                     A value of zero leaves the configuration unchanged</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">    * @param[in]  milliseconds How long to wait in milliseconds. Use osWaitForever for indefinite wait</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">    * @return osOK: The mutex has been obtain.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">    * @return osErrorTimeoutResource: The mutex could not be obtained in the given time.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">    * @return osErrorResource: The mutex could not be obtained when no timeout was specified.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">    * @return osErrorParameter: The parameter mutex_id is incorrect.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">    * @return osErrorISR: osMutexWait cannot be called from interrupt service routines.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keyword">virtual</span> osStatus <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a1ee582ca039f1f2ee0e949138df3cd13">startTransaction</a>(uint32_t ctarValue=0, <span class="keywordtype">int</span> milliseconds=osWaitForever) = 0;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">    * Release SPI mutex</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    * @return osOK: the mutex has been correctly released.</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">    * @return osErrorResource: the mutex was not obtained before.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    * @return osErrorISR: osMutexRelease cannot be called from interrupt service routines.</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="keyword">virtual</span> osStatus <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a4eda8000bd46c2bc026a5608f8a7b244">endTransaction</a>() = 0;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    * Obtain SPI mutex(dummy) and set SPI configuration</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">    * @param[in] config The configuration value to set for the transaction.\n</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    *                   A value of zero leaves the configuration unchanged</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a1ee582ca039f1f2ee0e949138df3cd13">  312</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a1ee582ca039f1f2ee0e949138df3cd13">startTransaction</a>(uint32_t config=0, <span class="keywordtype">int</span> =0) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">if</span> (config != 0) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;         spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[0] = config;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   }<span class="comment"></span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">    * Release SPI mutex - dummy routine</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a4eda8000bd46c2bc026a5608f8a7b244">  321</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a4eda8000bd46c2bc026a5608f8a7b244">endTransaction</a>() {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">    * Enable pins used by SPI</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#acf9ec66c8981f6632ed479ae7affe1fd">enablePins</a>() = 0;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">    * Disable (restore to usual default) pins used by SPI</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ae8349e369e8be8ce463e80bf088d1cc3">disablePins</a>() = 0;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">    * Sets the CTAR value for a given set of communication delays</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">    * @param[in]  cssck          =&gt; PCS assertion to SCK Delay Scaler</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">    * @param[in]  asc            =&gt; SCK to PCS negation delay</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">    * @param[in]  dt             =&gt; PCS negation to PCS assertion delay between transfers</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">    * @param[in]  ctarNum        =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">    * Note: Determines values for the smallest delay that is not less than specified delays.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ad107ee953db666ff7730db34c0cf0ba6">setDelays</a>(<span class="keywordtype">float</span> cssck=1*USBDM::ms, <span class="keywordtype">float</span> asc=1*USBDM::ms, <span class="keywordtype">float</span> dt=1*USBDM::ms, <span class="keywordtype">int</span> ctarNum=0) = 0;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">    * Sets the CTAR value for a given communication speed</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">    * @param[in]  frequency =&gt; Frequency in Hz (0 =&gt; use default value)</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">    * @param[in]  ctarNum   =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">    * Note: Chooses the highest speed that is not greater than frequency.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">    * Note: This will only have effect the next time a CTAR is changed</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a3223bceddad1fffecec8a454dfba56c4">setSpeed</a>(uint32_t frequency, <span class="keywordtype">int</span> ctarNum=0) = 0;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">    * Sets Communication mode for SPI</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">    * @param[in]  mode    =&gt; SpiModeValue to set. May be calculated using spiModeValue()</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">    * @param[in]  ctarNum =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a1ded48b21573cea2372b1bd90706d4f0">  365</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a1ded48b21573cea2372b1bd90706d4f0">setMode</a>(<a class="code" href="group___s_p_i___group.html#ga150096f5b48c7fc7fb9c89147ac178ea">SpiModeValue</a> mode, <span class="keywordtype">int</span> ctarNum=0) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">// Sets the default CTAR value with 8 bits</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum] = (spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum]&amp;~(<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga562416b33f74ea5595e122d862093e51">SPI_CTAR_CPHA_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga128560de0ef72566ec53bb208e6ad5ef">SPI_CTAR_CPOL_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gadefae41f4962681a83ae61a653026dc2">SPI_CTAR_LSBFE_MASK</a>)) |</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            (mode &amp; (<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga562416b33f74ea5595e122d862093e51">SPI_CTAR_CPHA_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga128560de0ef72566ec53bb208e6ad5ef">SPI_CTAR_CPOL_MASK</a>|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gadefae41f4962681a83ae61a653026dc2">SPI_CTAR_LSBFE_MASK</a>));</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">    * Sets Communication mode for SPI</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">    * @param[in]  numBits =&gt; Number of bits in each transfer</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">    * @param[in]  ctarNum =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a583d431955836379cd0785ccdd79cacc">  377</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a583d431955836379cd0785ccdd79cacc">setFrameSize</a>(<span class="keywordtype">int</span> numBits=8, <span class="keywordtype">int</span> ctarNum=0) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="comment">// Sets the frame size in CTAR</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum] = (spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[ctarNum]&amp;~(<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga71b046a902929cf107f46e422092ff33">SPI_CTAR_FMSZ_MASK</a>)) |</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga217a65114bc44312a9c953c3fd394464">SPI_CTAR_FMSZ</a>(numBits-1);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   }<span class="comment"></span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">    * Set value that is combined with data for PUSHR register</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">    * For example this may be used to control which CTAR is used or which SPI_PCSx signal is asserted</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">    * @param[in]  pushrMask Value to combine with Tx data before writing to PUSHR register</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    *                  For example, SPI_PUSHR_CTAS(1)|SPI_PUSHR_PCS(1&lt;&lt;2)</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a1a9d90c638e7d4fa0cd54021ea94c8df">  389</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a1a9d90c638e7d4fa0cd54021ea94c8df">setPushrValue</a>(uint32_t pushrMask) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      this-&gt;pushrMask = <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a9a650282795d085ccc6ac1c68029601f">pushrMask</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   }<span class="comment"></span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">    *  Transmit and receive a series of 4 to 8-bit values</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">    *  @param[in]  dataSize  Number of values to transfer</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">    *  @param[in]  txData    Transmit bytes (may be NULL for Rx only)</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">    *  @param[out] rxData    Receive byte buffer (may be NULL for Tx only)</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">    *  Note: rxData may use same buffer as txData</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ac175c2cba3d36b7cfd239693e3db9194">txRxBytes</a>(uint32_t dataSize, <span class="keyword">const</span> uint8_t *txData, uint8_t *rxData=0);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">    *  Transmit and receive a series of 9 to 16-bit values</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">    *  @param[in]  dataSize  Number of values to transfer</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">    *  @param[in]  txData    Transmit values (may be NULL for Rx only)</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">    *  @param[out] rxData    Receive buffer (may be NULL for Tx only)</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">    *  Note: rxData may use same buffer as txData</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a683f154ccd1c9142d2af90c8c1079af1">txRxWords</a>(uint32_t dataSize, <span class="keyword">const</span> uint16_t *txData, uint16_t *rxData=0);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">    * Transmit and receive a value over SPI</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">    * @param[in]  data - Data to send (8-16 bits) &lt;br&gt;</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    *             May include other control bits</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">    * @return Data received</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a5b1508841c9dd9067a2d449f463248f8">txRx</a>(uint32_t data);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">    *  Set SPI Configuration value\n</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">    *  This includes timing settings, word length and transmit order</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">    * @param[in]  config Configuration value</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a58ccc708840710b7ece02b8d87e8994d">  430</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a58ccc708840710b7ece02b8d87e8994d">setConfig</a>(uint32_t config) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[0] = config;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">    *  Get SPI Configuration value\n</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">    *  This includes timing settings, word length and transmit order</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">    * @return ctar Configuration value</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a2310350684da3c38d4ec9677c4f03938">  440</a></span>&#160;   uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a2310350684da3c38d4ec9677c4f03938">getConfig</a>() {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">return</span> spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[0];</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">   /** Set SPI.CTAR0 value</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">    * @param[in]  ctar 32-bit CTAR value</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#aec4e66ff12e511c1e74dd82b5ff13cb9">  448</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#aec4e66ff12e511c1e74dd82b5ff13cb9">setCTAR0Value</a>(uint32_t ctar) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[0] = ctar;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">   /** Set SPI.CTAR1 value</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">    * @param[in]  ctar 32-bit CTAR value</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a00ba832efe21891b00793d79371bd3bd">  456</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a00ba832efe21891b00793d79371bd3bd">setCTAR1Value</a>(uint32_t ctar) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[1] = ctar;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">   /** Get SPI.CTAR0 value</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">    * @return ctar 32-bit CTAR value</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#ac29bd00cea4a63560a5c52c350de4233">  464</a></span>&#160;   uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ac29bd00cea4a63560a5c52c350de4233">getCTAR0Value</a>() {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">return</span> spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[0];</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">   /** Get SPI.CTAR1 value</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">    * @return ctar 32-bit CTAR value</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a1dbafa192c89a707da8ee2b04ca82297">  472</a></span>&#160;   uint32_t <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a1dbafa192c89a707da8ee2b04ca82297">getCTAR1Value</a>() {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">return</span> spi-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[1];</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">    * Set polarity of hardware PCS signals</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">    * @param[in]  signal    Signal number</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">    * @param[in]  polarity  Polarity of PCSn, ActiveHigh or ActiveLow</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a69dd4b5c77726578534f3b8af69d2e32">  482</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a69dd4b5c77726578534f3b8af69d2e32">setPcsPolarity</a>(<span class="keywordtype">int</span> signal, <a class="code" href="namespace_u_s_b_d_m.html#ab1f3d9325270a2a7eead72ecb92f22ab">Polarity</a> polarity=<a class="code" href="namespace_u_s_b_d_m.html#ab1f3d9325270a2a7eead72ecb92f22aba3c4ccd6014b939351dec032cd2892fe4">ActiveHigh</a>) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">if</span> (polarity==<a class="code" href="namespace_u_s_b_d_m.html#ab1f3d9325270a2a7eead72ecb92f22aba3c4ccd6014b939351dec032cd2892fe4">ActiveHigh</a>) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;         spi-&gt;<a class="code" href="struct_s_p_i___type.html#a651ac70598a7c82ab57fc9eb672f3d70">MCR</a> &amp;= ~<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga81637c9ef8f34bdb499086de99c99858">SPI_MCR_PCSIS</a>(1&lt;&lt;signal);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;         spi-&gt;<a class="code" href="struct_s_p_i___type.html#a651ac70598a7c82ab57fc9eb672f3d70">MCR</a> |= <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga81637c9ef8f34bdb499086de99c99858">SPI_MCR_PCSIS</a>(1&lt;&lt;signal);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">    * Starts and stops the SPI transfers.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">    * @param[in] enable true to enable</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#a676b0b2122bae8364b0cf85396c256dc">  496</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a676b0b2122bae8364b0cf85396c256dc">enableTransfer</a>(<span class="keywordtype">bool</span> enable=<span class="keyword">true</span>) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">if</span> (enable) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;         spi-&gt;<a class="code" href="struct_s_p_i___type.html#a651ac70598a7c82ab57fc9eb672f3d70">MCR</a> &amp;= ~<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga88c670302548b2d5b5f032b5709bc366">SPI_MCR_HALT_MASK</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         spi-&gt;<a class="code" href="struct_s_p_i___type.html#a651ac70598a7c82ab57fc9eb672f3d70">MCR</a> |= <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga88c670302548b2d5b5f032b5709bc366">SPI_MCR_HALT_MASK</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   }<span class="comment"></span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">    * @param[in] spiFifoTxRequest   Transmit FIFO Fill Request interrupt/DMA enable (TFFF flag)</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">    * @param[in] spiFifoRxRequest   Receive FIFO Drain Request interrupt/DMA enable (RFDF flag)</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#aff44a226f7f5d54a680eab9c1cc026fc">  509</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#aff44a226f7f5d54a680eab9c1cc026fc">configureFifoRequests</a>(</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;         <a class="code" href="group___s_p_i___group.html#gab9c61acefc026b506de46a7d251980c5">SpiFifoTxRequest</a> spiFifoTxRequest,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;         <a class="code" href="group___s_p_i___group.html#ga166d71a39a4435151adbcfd0776e5f42">SpiFifoRxRequest</a> spiFifoRxRequest) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a107d9410bde132e409d2238beea64d07">RSER</a> = (spi-&gt;<a class="code" href="struct_s_p_i___type.html#a107d9410bde132e409d2238beea64d07">RSER</a>&amp;~(<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gacec859c23755e68e8b6ca6ee2d42cec4">SPI_RSER_TFFF_DIRS</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga57eacd49a756b99850d51f17e5d80475">SPI_RSER_TFFF_RE</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gac0822dc99c670f67d28ee973bc6dd9ec">SPI_RSER_RFDF_DIRS</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga220c88340bd372ec2b1a91557caac1b6">SPI_RSER_RFDF_RE</a>(1)))|spiFifoTxRequest|spiFifoRxRequest;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   }<span class="comment"></span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">    * @param[in] spiTxCompleteInterrupt      Controls Transmit complete interrupts (TCF Flag)</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">    * @param[in] spiEndOfQueueInterrupt      Controls DSPI Finished interrupts (EOQF flag)</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">    * @param[in] spiFifoUnderflowInterrupt   Controls Transmit FIFO Underflow interrupts (TFUF flag)</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">    * @param[in] spiFifoOverflowInterrupt    Controls Transmit FIFO Overflow interrupts (TFUF flag)</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi.html#aec6ea2bf07849283a2f9d5a8a1128653">  522</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html#aec6ea2bf07849283a2f9d5a8a1128653">configureInterrupts</a>(</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;         <a class="code" href="group___s_p_i___group.html#ga24da8a6a97bc07dfa541aa1ff123133e">SpiTxCompleteInterrupt</a>     spiTxCompleteInterrupt     = <a class="code" href="group___s_p_i___group.html#gga24da8a6a97bc07dfa541aa1ff123133ea68ec23e62eee00ae851bd97b8660a5ad">SpiTxCompleteInterrupt_Disabled</a>,</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;         <a class="code" href="group___s_p_i___group.html#ga78518edc7052d91f8c4685f4827d0064">SpiEndOfQueueInterrupt</a>     spiEndOfQueueInterrupt     = <a class="code" href="group___s_p_i___group.html#gga78518edc7052d91f8c4685f4827d0064a8d420aa5ca27834b2a8394ad9753bcb4">SpiEndOfQueueInterrupt_Disable</a>,</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;         <a class="code" href="group___s_p_i___group.html#gaa1b02c943327bca3733dae0586a26489">SpiFifoUnderflowInterrupt</a>  spiFifoUnderflowInterrupt  = <a class="code" href="group___s_p_i___group.html#ggaa1b02c943327bca3733dae0586a26489ab81227a7650e9609a5bf037519bac907">SpiFifoUnderflowInterrupt_Disabled</a>,</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;         <a class="code" href="group___s_p_i___group.html#gad16f361d50392ae9c2b482346bff226d">SpiFifoOverflowInterrupt</a>   spiFifoOverflowInterrupt   = <a class="code" href="group___s_p_i___group.html#ggad16f361d50392ae9c2b482346bff226da9059c00ac0a41a61be4716f40dce71cf">SpiFifoOverflowInterrupt_Disabled</a></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;         ) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      spi-&gt;<a class="code" href="struct_s_p_i___type.html#a107d9410bde132e409d2238beea64d07">RSER</a> = (spi-&gt;<a class="code" href="struct_s_p_i___type.html#a107d9410bde132e409d2238beea64d07">RSER</a>&amp;~(<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga0d53d442648e115ee18c1f0f6ed065c3">SPI_RSER_TFUF_RE</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga23fe74057428ef330f653fe2115d270b">SPI_RSER_RFOF_RE</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga619908c67a62a0a51b8514f9629e0361">SPI_RSER_TCF_RE</a>(1)|<a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gad3604b04d87365a05286029814555e09">SPI_RSER_EOQF_RE</a>(1)))|</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            spiFifoUnderflowInterrupt|spiFifoOverflowInterrupt|spiTxCompleteInterrupt|spiEndOfQueueInterrupt;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;};</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * @brief Template class representing a SPI interface</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> * @tparam  Info           Class describing Spi hardware</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> Info&gt;</div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html">  540</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_u_s_b_d_m_1_1_spi___t.html">Spi_T</a> : <span class="keyword">public</span> <a class="code" href="class_u_s_b_d_m_1_1_spi.html">Spi</a> {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">#ifdef __CMSIS_RTOS</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">   /** Mutex to protect access - static so per SPI */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="keyword">static</span> <a class="code" href="class_c_m_s_i_s_1_1_mutex.html">CMSIS::Mutex</a> mutex;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">    * Obtain SPI mutex</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">    * @param[in]  config       The configuration value to set for the transaction\n</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">    *                     A value of zero leaves the configuration unchanged</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">    * @param[in]  milliseconds How long to wait in milliseconds. Use osWaitForever for indefinite wait</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">    * @return osOK: The mutex has been obtain.</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">    * @return osErrorTimeoutResource: The mutex could not be obtained in the given time.</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">    * @return osErrorResource: The mutex could not be obtained when no timeout was specified.</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">    * @return osErrorParameter: The parameter mutex_id is incorrect.</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">    * @return osErrorISR: osMutexWait cannot be called from interrupt service routines.</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <span class="keyword">virtual</span> osStatus <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a1ee582ca039f1f2ee0e949138df3cd13">startTransaction</a>(uint32_t config=0, <span class="keywordtype">int</span> milliseconds=osWaitForever)<span class="keyword"> override </span>{</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="comment">// Obtain mutex</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      osStatus status = mutex.<a class="code" href="class_c_m_s_i_s_1_1_mutex.html#a14664c6f781ff30d23b4fec5519ab301">wait</a>(milliseconds);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">if</span> ((status == osOK) &amp;&amp; (config != 0)) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;         <span class="comment">// Change configuration for this transaction</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;         <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a14462e2d706938d5a9f5219e69dbf81a">spi</a>-&gt;<a class="code" href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">CTAR</a>[0] = config;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">return</span> status;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">    * Release SPI mutex</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">    * @return osOK: the mutex has been correctly released.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">    * @return osErrorResource: the mutex was not obtained before.</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">    * @return osErrorISR: osMutexRelease cannot be called from interrupt service routines.</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keyword">virtual</span> osStatus <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a4eda8000bd46c2bc026a5608f8a7b244">endTransaction</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="comment">// Release mutex</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">return</span> mutex.<a class="code" href="class_c_m_s_i_s_1_1_mutex.html#a31b508c15b0808eb895c8a24d4a7c7b7">release</a>();</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#abeb092e38a7b2cb0a828573db2e5e1f0">  585</a></span>&#160;   <span class="keyword">static</span> constexpr <span class="keyword">volatile</span> <a class="code" href="struct_s_p_i___type.html">SPI_Type</a> *SPI = Info::spi;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <span class="comment">// SPI SCK (clock) Pin</span></div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a758cf6c73124d92a715e278d53d7a3f5">  588</a></span>&#160;   <span class="keyword">using</span> <a class="code" href="class_u_s_b_d_m_1_1_gpio_base___t.html">sckGpio</a>  = <a class="code" href="class_u_s_b_d_m_1_1_gpio_base___t.html">GpioTable_T&lt;Info, 0, USBDM::ActiveHigh&gt;</a>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <span class="comment">// SPI SIN (data in = usually MISO) Pin</span></div><div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a7a4ba7cb74f08231342f4cd4bf215545">  591</a></span>&#160;   <span class="keyword">using</span> <a class="code" href="class_u_s_b_d_m_1_1_gpio_base___t.html">sinGpio</a>  = <a class="code" href="class_u_s_b_d_m_1_1_gpio_base___t.html">GpioTable_T&lt;Info, 1, USBDM::ActiveHigh&gt;</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <span class="comment">// SPI SOUT (data out = usually MOSI) Pin</span></div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a3c214b42bdb5a87046120d40e5121b0f">  594</a></span>&#160;   <span class="keyword">using</span> <a class="code" href="class_u_s_b_d_m_1_1_gpio_base___t.html">soutGpio</a> = <a class="code" href="class_u_s_b_d_m_1_1_gpio_base___t.html">GpioTable_T&lt;Info, 2, USBDM::ActiveHigh&gt;</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a03afdc8ebe0a034f34606f0d31e0bd2f">  596</a></span>&#160;   <span class="keyword">virtual</span> <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html#a03afdc8ebe0a034f34606f0d31e0bd2f">~Spi_T</a>() {}</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a6d395aeb8355f051564afa99192cfa11">  598</a></span>&#160;   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html#a6d395aeb8355f051564afa99192cfa11">enablePins</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="comment">// Configure SPI pins</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi0_info.html#acd0593a4a824aa4ee2263c76142ee449">Spi0Info::initPCRs</a>(pcrValue(<a class="code" href="group___peripheral_pin_tables.html#ggad54854b5479931edb9f84488f3967abea82fbf0ab842c821bc0a2df5e24ae2055">PinPull_Up</a>, <a class="code" href="group___peripheral_pin_tables.html#gga41b0e776b3badb014a0fa2c3261d4c57a2f1142550360f67b113d19b07c3526c7">PinDriveStrength_High</a>));</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a19835258786c6efee2a654d2aa9be713">  603</a></span>&#160;   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html#a19835258786c6efee2a654d2aa9be713">disablePins</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// Configure SPI pins to mux=0</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      Info::clearPCRs();</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">    * Sets Communication speed for SPI</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">    * @param[in]  frequency      =&gt; Frequency in Hz (0 =&gt; use default value)</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">    * @param[in]  ctarNum        =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">    * Note: Chooses the highest speed that is not greater than frequency.</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a12a9f39d4456a6647a98ab6c4b95cbce">  616</a></span>&#160;   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html#a12a9f39d4456a6647a98ab6c4b95cbce">setSpeed</a>(uint32_t frequency, <span class="keywordtype">int</span> ctarNum=0)<span class="keyword"> override </span>{</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a3223bceddad1fffecec8a454dfba56c4">Spi::setSpeed</a>(Info::getClockFrequency(), frequency, ctarNum);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">    * Sets the CTAR value for a given set of communication delays</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">    * @param[in]  cssck          =&gt; PCS assertion to SCK Delay Scaler</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">    * @param[in]  asc            =&gt; SCK to PCS negation delay</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">    * @param[in]  dt             =&gt; PCS negation to PCS assertion delay between transfers</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">    * @param[in]  ctarNum        =&gt; Index of CTAR register to modify</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">    * Note: Determines values for the smallest delay that is not less than specified delays.</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#acbf301257cd625fffb3737c74a522e64">  630</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html#acbf301257cd625fffb3737c74a522e64">setDelays</a>(<span class="keywordtype">float</span> cssck=10*USBDM::us, <span class="keywordtype">float</span> asc=10*USBDM::us, <span class="keywordtype">float</span> dt=10*USBDM::us, <span class="keywordtype">int</span> ctarNum=0)<span class="keyword"> override </span>{</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ad107ee953db666ff7730db34c0cf0ba6">Spi::setDelays</a>(Info::getClockFrequency(), cssck, asc, dt, ctarNum);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">    * Constructor</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#ad40f7179c4b52afe5b75ec9eef0d55fa">  637</a></span>&#160;   <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html#ad40f7179c4b52afe5b75ec9eef0d55fa">Spi_T</a>() : <a class="code" href="class_u_s_b_d_m_1_1_spi.html">Spi</a>(reinterpret_cast&lt;volatile <a class="code" href="struct_s_p_i___type.html">SPI_Type</a>*&gt;(Info::<a class="code" href="class_u_s_b_d_m_1_1_spi.html#a14462e2d706938d5a9f5219e69dbf81a">spi</a>)) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="preprocessor">#ifdef DEBUG_BUILD</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="comment">// Check pin assignments</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      static_assert(Info::info[0].gpioBit != <a class="code" href="group___peripheral_pin_tables.html#ga2ad568d2350b8b4d76e49c38744c9ac9">UNMAPPED_PCR</a>, <span class="stringliteral">&quot;SPIx_SCK has not been assigned to a pin&quot;</span>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      static_assert(Info::info[1].gpioBit != <a class="code" href="group___peripheral_pin_tables.html#ga2ad568d2350b8b4d76e49c38744c9ac9">UNMAPPED_PCR</a>, <span class="stringliteral">&quot;SPIx_SIN has not been assigned to a pin&quot;</span>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      static_assert(Info::info[2].gpioBit != <a class="code" href="group___peripheral_pin_tables.html#ga2ad568d2350b8b4d76e49c38744c9ac9">UNMAPPED_PCR</a>, <span class="stringliteral">&quot;SPIx_SOUT has not been assigned to a pin&quot;</span>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="comment">// Enable SPI module clock</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      *Info::clockReg |= Info::clockMask;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <a class="code" href="group___c_m_s_i_s___core___instruction_interface.html#gabf4161df67564feda90581aa4917a515">__DMB</a>();</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a14462e2d706938d5a9f5219e69dbf81a">spi</a>-&gt;<a class="code" href="struct_s_p_i___type.html#a651ac70598a7c82ab57fc9eb672f3d70">MCR</a> =</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga615e3c6718820a26ff62dde21b352b27">SPI_MCR_HALT</a>(1)|        <span class="comment">// Halt transfers</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#gaae3c74d637272a70177d20cfde606d6d">SPI_MCR_CLR_RXF</a>(1)|     <span class="comment">// Clear Rx FIFO</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3556df040389407ff335eb2c0829231a">SPI_MCR_CLR_TXF</a>(1)|     <span class="comment">// Clear Tx FIFO</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga976b4b71102dac6e646d34dc6f91351b">SPI_MCR_ROOE</a>(1)|        <span class="comment">// Receive FIFO Overflow Overwrite</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga8c511b3daf106ff16f3b1ecec55ef2d2">SPI_MCR_MSTR</a>(1)|        <span class="comment">// Master mode</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga4157226a8f489e3d1d8321beed0afcb6">SPI_MCR_DCONF</a>(0)|       <span class="comment">// Must be zero</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga85a76d4d3ea961f858f6eed9882bfd99">SPI_MCR_SMPL_PT</a>(0)|     <span class="comment">// 0 system clocks between SCK edge and SIN sample</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <a class="code" href="group___s_p_i___register___masks___g_r_o_u_p.html#ga81637c9ef8f34bdb499086de99c99858">SPI_MCR_PCSIS</a>(1);       <span class="comment">// Assume PCS active-low</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#aec4e66ff12e511c1e74dd82b5ff13cb9">setCTAR0Value</a>(0);         <span class="comment">// Clear</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a00ba832efe21891b00793d79371bd3bd">setCTAR1Value</a>(0);         <span class="comment">// Clear</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a583d431955836379cd0785ccdd79cacc">setFrameSize</a>(8);          <span class="comment">// Default 8-bit transfers</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a3223bceddad1fffecec8a454dfba56c4">setSpeed</a>(Info::speed);    <span class="comment">// Use default speed</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a1ded48b21573cea2372b1bd90706d4f0">setMode</a>(Info::modeValue); <span class="comment">// Use default mode</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#ad107ee953db666ff7730db34c0cf0ba6">setDelays</a>();              <span class="comment">// Defaults</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="comment">// Configure SPI pins</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <a class="code" href="class_u_s_b_d_m_1_1_spi.html#acf9ec66c8981f6632ed479ae7affe1fd">enablePins</a>();</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   }<span class="comment"></span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">    * Gets and clears status flags.</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">    * @return status valkue (SPI-&gt;SR)</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi___t.html#a75c7f48e26ab2c087cb23a02ef67dba4">  675</a></span>&#160;   <span class="keyword">static</span> uint32_t __attribute__((always_inline)) <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html#a75c7f48e26ab2c087cb23a02ef67dba4">getStatus</a>() {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">// Capture interrupt status</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      uint32_t status = Info::spi-&gt;SR;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="comment">// Clear captured flags</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      Info::spi-&gt;SR = status;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="comment">// Return status</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">return</span> status;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;};</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment"> * Template class to provide callback</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> Info&gt;</div><div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi_irq___t.html">  690</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_u_s_b_d_m_1_1_spi_irq___t.html">SpiIrq_T</a> : <span class="keyword">public</span> <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html">Spi_T</a>&lt;Info&gt; {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">   /** Callback function for ISR */</span></div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#ga943f0eee725a8517099fceaad7f12eaf">  694</a></span>&#160;   <span class="keyword">static</span> <a class="code" href="group___s_p_i___group.html#ga2f82d5c5cf2795a2a451a9394af06c6c">SpiCallbackFunction</a> <a class="code" href="group___s_p_i___group.html#ga943f0eee725a8517099fceaad7f12eaf">callback</a>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">    * IRQ handler</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi_irq___t.html#a3e6a131211ad305c84e16346e8439a8d">  700</a></span>&#160;   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi_irq___t.html#a3e6a131211ad305c84e16346e8439a8d">irqHandler</a>() {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      callback(<a class="code" href="class_u_s_b_d_m_1_1_spi___t.html">Spi_T&lt;Info&gt;::getStatus</a>());</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">   /**</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">    * Set Callback function\n</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">    * @param[in] theCallback Callback function to execute on interrupt.\n</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">    *                        nullptr to indicate none</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="class_u_s_b_d_m_1_1_spi_irq___t.html#a2276134d56282585916abefdf9b249e0">  710</a></span>&#160;   <span class="keyword">static</span> __attribute__((always_inline)) <span class="keywordtype">void</span> <a class="code" href="class_u_s_b_d_m_1_1_spi_irq___t.html#a2276134d56282585916abefdf9b249e0">setCallback</a>(<a class="code" href="group___s_p_i___group.html#ga2f82d5c5cf2795a2a451a9394af06c6c">SpiCallbackFunction</a> theCallback) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">if</span> (theCallback == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;         callback = <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a2820c51cce4f704bfe51eef3b4ac1316">Spi::unhandledCallback</a>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      callback = theCallback;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;};</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> Info&gt; <a class="code" href="group___s_p_i___group.html#ga2f82d5c5cf2795a2a451a9394af06c6c">SpiCallbackFunction</a> <a class="code" href="class_u_s_b_d_m_1_1_spi_irq___t.html">SpiIrq_T&lt;Info&gt;::callback</a> = <a class="code" href="class_u_s_b_d_m_1_1_spi.html#a2820c51cce4f704bfe51eef3b4ac1316">Spi::unhandledCallback</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="preprocessor">#ifdef __CMSIS_RTOS</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">/** Mutex to protect access - static so per SPI */</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> Info&gt;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<a class="code" href="class_c_m_s_i_s_1_1_mutex.html">CMSIS::Mutex</a> <a class="code" href="class_u_s_b_d_m_1_1_spi___t.html">Spi_T&lt;Info&gt;::mutex</a>;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor">#if defined(USBDM_SPI0_IS_DEFINED)</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment"> * @brief Template class representing a SPI0 interface</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"> * &lt;b&gt;Example&lt;/b&gt;</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"> * @code</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"> * USBDM::Spi *spi = new USBDM::Spi0();</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"> * uint8_t txData[] = {1,2,3};</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment"> * uint8_t rxData[10];</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment"> * spi-&gt;txRxBytes(sizeof(txData), txData, rxData);</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment"> * @endcode</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="group___s_p_i___group.html#gaf9d858c737491a40c4d5ca0ce0e64f62">  741</a></span>&#160;<span class="keyword">using</span> <a class="code" href="class_u_s_b_d_m_1_1_spi_irq___t.html">Spi0</a> = <a class="code" href="class_u_s_b_d_m_1_1_spi_irq___t.html">SpiIrq_T&lt;Spi0Info&gt;</a>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#if defined(USBDM_SPI1_IS_DEFINED)</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment"> * @brief Template class representing a SPI1 interface</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment"> * &lt;b&gt;Example&lt;/b&gt;</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"> * @code</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"> * USBDM::Spi *spi = new USBDM::Spi1();</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"> * uint8_t txData[] = {1,2,3};</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"> * uint8_t rxData[10];</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"> * spi-&gt;txRxBytes(sizeof(txData), txData, rxData);</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"> * @endcode</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="keyword">using</span>  Spi1 = <a class="code" href="class_u_s_b_d_m_1_1_spi_irq___t.html">SpiIrq_T&lt;Spi1Info&gt;</a>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment"> * @}</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;} <span class="comment">// End namespace USBDM</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* INCLUDE_USBDM_SPI_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="group___s_p_i___group_html_ggab9c61acefc026b506de46a7d251980c5a137249126e1d001dccf10b839921d086"><div class="ttname"><a href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5a137249126e1d001dccf10b839921d086">USBDM::SpiFifoTxRequest_Disabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:55</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_irq___t_html_a3e6a131211ad305c84e16346e8439a8d"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi_irq___t.html#a3e6a131211ad305c84e16346e8439a8d">USBDM::SpiIrq_T::irqHandler</a></div><div class="ttdeci">static void irqHandler()</div><div class="ttdoc">IRQ handler. </div><div class="ttdef"><b>Definition:</b> spi.h:700</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga385460784a6be6c97fa95c527db55b30abce3faa25dbc2bc3ea0bc5ca7d5e50e9"><div class="ttname"><a href="group___s_p_i___group.html#gga385460784a6be6c97fa95c527db55b30abce3faa25dbc2bc3ea0bc5ca7d5e50e9">USBDM::SpiOrder_LsbFirst</a></div><div class="ttdef"><b>Definition:</b> spi.h:48</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga619908c67a62a0a51b8514f9629e0361"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga619908c67a62a0a51b8514f9629e0361">SPI_RSER_TCF_RE</a></div><div class="ttdeci">#define SPI_RSER_TCF_RE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5995</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_gpio_base___t_html"><div class="ttname"><a href="class_u_s_b_d_m_1_1_gpio_base___t.html">USBDM::GpioBase_T</a></div><div class="ttdoc">Template representing a pin with Digital I/O capability. </div><div class="ttdef"><b>Definition:</b> gpio.h:80</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gacec859c23755e68e8b6ca6ee2d42cec4"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gacec859c23755e68e8b6ca6ee2d42cec4">SPI_RSER_TFFF_DIRS</a></div><div class="ttdeci">#define SPI_RSER_TFFF_DIRS(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5983</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga976b4b71102dac6e646d34dc6f91351b"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga976b4b71102dac6e646d34dc6f91351b">SPI_MCR_ROOE</a></div><div class="ttdeci">#define SPI_MCR_ROOE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5861</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga85a76d4d3ea961f858f6eed9882bfd99"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga85a76d4d3ea961f858f6eed9882bfd99">SPI_MCR_SMPL_PT</a></div><div class="ttdeci">#define SPI_MCR_SMPL_PT(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5837</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a583d431955836379cd0785ccdd79cacc"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a583d431955836379cd0785ccdd79cacc">USBDM::Spi::setFrameSize</a></div><div class="ttdeci">void setFrameSize(int numBits=8, int ctarNum=0)</div><div class="ttdoc">Sets Communication mode for SPI. </div><div class="ttdef"><b>Definition:</b> spi.h:377</div></div>
<div class="ttc" id="group___s_p_i___group_html_ggab9c61acefc026b506de46a7d251980c5a6473c0fd70acb526e269aada9cd7ba50"><div class="ttname"><a href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5a6473c0fd70acb526e269aada9cd7ba50">USBDM::SpiFifoTxRequest_Dma</a></div><div class="ttdef"><b>Definition:</b> spi.h:57</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga2268eed5b839520e31e33af1fed92840abb95e0a53e395f78047425a6765b517a"><div class="ttname"><a href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840abb95e0a53e395f78047425a6765b517a">USBDM::SpiMode_3</a></div><div class="ttdef"><b>Definition:</b> spi.h:43</div></div>
<div class="ttc" id="group___s_p_i___group_html_ga2268eed5b839520e31e33af1fed92840"><div class="ttname"><a href="group___s_p_i___group.html#ga2268eed5b839520e31e33af1fed92840">USBDM::SpiMode</a></div><div class="ttdeci">SpiMode</div><div class="ttdef"><b>Definition:</b> spi.h:39</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi0_info_html_acd0593a4a824aa4ee2263c76142ee449"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi0_info.html#acd0593a4a824aa4ee2263c76142ee449">USBDM::Spi0Info::initPCRs</a></div><div class="ttdeci">static void initPCRs(uint32_t pcrValue=defaultPcrValue)</div><div class="ttdoc">Initialise pins used by peripheral. </div><div class="ttdef"><b>Definition:</b> pin_mapping.h:2957</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html_a12a9f39d4456a6647a98ab6c4b95cbce"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html#a12a9f39d4456a6647a98ab6c4b95cbce">USBDM::Spi_T::setSpeed</a></div><div class="ttdeci">virtual void setSpeed(uint32_t frequency, int ctarNum=0) override</div><div class="ttdoc">Sets Communication speed for SPI. </div><div class="ttdef"><b>Definition:</b> spi.h:616</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga3e9fd2ca2e90b6c40db0d51c8d8baa84"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3e9fd2ca2e90b6c40db0d51c8d8baa84">SPI_CTAR_PASC_MASK</a></div><div class="ttdeci">#define SPI_CTAR_PASC_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5900</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga4c9cea463fa7641c820c5622500cd296"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga4c9cea463fa7641c820c5622500cd296">SPI_CTAR_LSBFE</a></div><div class="ttdeci">#define SPI_CTAR_LSBFE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5908</div></div>
<div class="ttc" id="group___peripheral_pin_tables_html_ga2ad568d2350b8b4d76e49c38744c9ac9"><div class="ttname"><a href="group___peripheral_pin_tables.html#ga2ad568d2350b8b4d76e49c38744c9ac9">USBDM::UNMAPPED_PCR</a></div><div class="ttdeci">constexpr int8_t UNMAPPED_PCR</div><div class="ttdoc">Pin number indicating the function is not currently mapped to a pin. </div><div class="ttdef"><b>Definition:</b> pcr.h:93</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga27ec6f89727e91f1d272d06c6f1c44b3"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga27ec6f89727e91f1d272d06c6f1c44b3">SPI_CTAR_PCSSCK_MASK</a></div><div class="ttdeci">#define SPI_CTAR_PCSSCK_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5903</div></div>
<div class="ttc" id="namespace_u_s_b_d_m_html_ab1f3d9325270a2a7eead72ecb92f22aba3c4ccd6014b939351dec032cd2892fe4"><div class="ttname"><a href="namespace_u_s_b_d_m.html#ab1f3d9325270a2a7eead72ecb92f22aba3c4ccd6014b939351dec032cd2892fe4">USBDM::ActiveHigh</a></div><div class="ttdoc">Signal is active high i.e. Active =&gt; High level, Inactive =&gt; Low level. </div><div class="ttdef"><b>Definition:</b> pcr.h:30</div></div>
<div class="ttc" id="group___s_p_i___group_html_ga943f0eee725a8517099fceaad7f12eaf"><div class="ttname"><a href="group___s_p_i___group.html#ga943f0eee725a8517099fceaad7f12eaf">USBDM::SpiIrq_T::callback</a></div><div class="ttdeci">static SpiCallbackFunction callback</div><div class="ttdoc">Callback function for ISR. </div><div class="ttdef"><b>Definition:</b> spi.h:694</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga2268eed5b839520e31e33af1fed92840ac7f86e7a769af255fc0287dd23b0b87b"><div class="ttname"><a href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840ac7f86e7a769af255fc0287dd23b0b87b">USBDM::SpiMode_0</a></div><div class="ttdef"><b>Definition:</b> spi.h:40</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga8c511b3daf106ff16f3b1ecec55ef2d2"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga8c511b3daf106ff16f3b1ecec55ef2d2">SPI_MCR_MSTR</a></div><div class="ttdeci">#define SPI_MCR_MSTR(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5876</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_aff44a226f7f5d54a680eab9c1cc026fc"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#aff44a226f7f5d54a680eab9c1cc026fc">USBDM::Spi::configureFifoRequests</a></div><div class="ttdeci">void configureFifoRequests(SpiFifoTxRequest spiFifoTxRequest, SpiFifoRxRequest spiFifoRxRequest)</div><div class="ttdef"><b>Definition:</b> spi.h:509</div></div>
<div class="ttc" id="group___s_p_i___group_html_ggad16f361d50392ae9c2b482346bff226da325d1ed2b180cb430d8564b5bdc621f1"><div class="ttname"><a href="group___s_p_i___group.html#ggad16f361d50392ae9c2b482346bff226da325d1ed2b180cb430d8564b5bdc621f1">USBDM::SpiFifoOverflowInterrupt_Enabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:82</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a69dd4b5c77726578534f3b8af69d2e32"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a69dd4b5c77726578534f3b8af69d2e32">USBDM::Spi::setPcsPolarity</a></div><div class="ttdeci">void setPcsPolarity(int signal, Polarity polarity=ActiveHigh)</div><div class="ttdoc">Set polarity of hardware PCS signals. </div><div class="ttdef"><b>Definition:</b> spi.h:482</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gad04548e76bbaa595940fc1d043cdbace"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gad04548e76bbaa595940fc1d043cdbace">SPI_CTAR_CPOL</a></div><div class="ttdeci">#define SPI_CTAR_CPOL(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5917</div></div>
<div class="ttc" id="group___c_m_s_i_s___core___instruction_interface_html_gabf4161df67564feda90581aa4917a515"><div class="ttname"><a href="group___c_m_s_i_s___core___instruction_interface.html#gabf4161df67564feda90581aa4917a515">__DMB</a></div><div class="ttdeci">__STATIC_INLINE void __DMB(void)</div><div class="ttdoc">Data Memory Barrier. </div><div class="ttdef"><b>Definition:</b> cmsis_gcc.h:438</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a00ba832efe21891b00793d79371bd3bd"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a00ba832efe21891b00793d79371bd3bd">USBDM::Spi::setCTAR1Value</a></div><div class="ttdeci">void setCTAR1Value(uint32_t ctar)</div><div class="ttdoc">Set SPI.CTAR1 value. </div><div class="ttdef"><b>Definition:</b> spi.h:456</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga4f40ea2ab0d14559523ab0699fd682c6"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga4f40ea2ab0d14559523ab0699fd682c6">SPI_CTAR_PBR_MASK</a></div><div class="ttdeci">#define SPI_CTAR_PBR_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5894</div></div>
<div class="ttc" id="group___peripheral_pin_tables_html_gga41b0e776b3badb014a0fa2c3261d4c57a2f1142550360f67b113d19b07c3526c7"><div class="ttname"><a href="group___peripheral_pin_tables.html#gga41b0e776b3badb014a0fa2c3261d4c57a2f1142550360f67b113d19b07c3526c7">USBDM::PinDriveStrength_High</a></div><div class="ttdoc">High drive strength. </div><div class="ttdef"><b>Definition:</b> pcr.h:165</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a9870b544b5d4cd356da95d872cc86f64"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a9870b544b5d4cd356da95d872cc86f64">USBDM::Spi::calculateDelays</a></div><div class="ttdeci">static uint32_t calculateDelays(uint32_t clockFrequency, float cssck=1 *USBDM::us, float asc=1 *USBDM::us, float dt=1 *USBDM::us)</div><div class="ttdoc">Calculates the CTAR value for a given set of communication delays for SPI. </div><div class="ttdef"><b>Definition:</b> spi.h:240</div></div>
<div class="ttc" id="group___s_p_i___group_html_ggaa1b02c943327bca3733dae0586a26489ab81227a7650e9609a5bf037519bac907"><div class="ttname"><a href="group___s_p_i___group.html#ggaa1b02c943327bca3733dae0586a26489ab81227a7650e9609a5bf037519bac907">USBDM::SpiFifoUnderflowInterrupt_Disabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:73</div></div>
<div class="ttc" id="group___s_p_i___group_html_ga166d71a39a4435151adbcfd0776e5f42"><div class="ttname"><a href="group___s_p_i___group.html#ga166d71a39a4435151adbcfd0776e5f42">USBDM::SpiFifoRxRequest</a></div><div class="ttdeci">SpiFifoRxRequest</div><div class="ttdoc">Receive FIFO Drain Request interrupt/DMA enable (RFDF flag) </div><div class="ttdef"><b>Definition:</b> spi.h:63</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga78518edc7052d91f8c4685f4827d0064a8d420aa5ca27834b2a8394ad9753bcb4"><div class="ttname"><a href="group___s_p_i___group.html#gga78518edc7052d91f8c4685f4827d0064a8d420aa5ca27834b2a8394ad9753bcb4">USBDM::SpiEndOfQueueInterrupt_Disable</a></div><div class="ttdef"><b>Definition:</b> spi.h:96</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a1ded48b21573cea2372b1bd90706d4f0"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a1ded48b21573cea2372b1bd90706d4f0">USBDM::Spi::setMode</a></div><div class="ttdeci">void setMode(SpiModeValue mode, int ctarNum=0)</div><div class="ttdoc">Sets Communication mode for SPI. </div><div class="ttdef"><b>Definition:</b> spi.h:365</div></div>
<div class="ttc" id="namespace_u_s_b_d_m_html_af5406ca776612b2687e916fb194ffd26a86427929463e65c0d9bc2d1cb22b425d"><div class="ttname"><a href="namespace_u_s_b_d_m.html#af5406ca776612b2687e916fb194ffd26a86427929463e65c0d9bc2d1cb22b425d">USBDM::E_NO_HANDLER</a></div><div class="ttdoc">No handler installed. </div><div class="ttdef"><b>Definition:</b> hardware.h:61</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga1d67f4830c56355cfbee79721e4d30d3"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga1d67f4830c56355cfbee79721e4d30d3">SPI_CTAR_PCSSCK</a></div><div class="ttdeci">#define SPI_CTAR_PCSSCK(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5905</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html_a6d395aeb8355f051564afa99192cfa11"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html#a6d395aeb8355f051564afa99192cfa11">USBDM::Spi_T::enablePins</a></div><div class="ttdeci">virtual void enablePins() override</div><div class="ttdoc">Enable pins used by SPI. </div><div class="ttdef"><b>Definition:</b> spi.h:598</div></div>
<div class="ttc" id="derivative_8h_html"><div class="ttname"><a href="derivative_8h.html">derivative.h</a></div><div class="ttdoc">Include the derivative-specific header file FRDM_K20D50M.h. </div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a0d44a97c1024705823485b5425767588"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a0d44a97c1024705823485b5425767588">USBDM::Spi::calculateSpeed</a></div><div class="ttdeci">static uint32_t calculateSpeed(uint32_t clockFrequency, uint32_t clockFactors)</div><div class="ttdoc">Calculate communication speed from SPI clock frequency and speed factors. </div><div class="ttdef"><b>Definition:</b> spi.cpp:78</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a3223bceddad1fffecec8a454dfba56c4"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a3223bceddad1fffecec8a454dfba56c4">USBDM::Spi::setSpeed</a></div><div class="ttdeci">void setSpeed(uint32_t clockFrequency, uint32_t frequency, int ctarNum)</div><div class="ttdoc">Sets Communication speed for SPI. </div><div class="ttdef"><b>Definition:</b> spi.h:257</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a465eafbb58de8a493e3854dd09bc6535"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a465eafbb58de8a493e3854dd09bc6535">USBDM::Spi::~Spi</a></div><div class="ttdeci">~Spi()</div><div class="ttdef"><b>Definition:</b> spi.h:122</div></div>
<div class="ttc" id="group___s_p_i___group_html_ggad16f361d50392ae9c2b482346bff226da9059c00ac0a41a61be4716f40dce71cf"><div class="ttname"><a href="group___s_p_i___group.html#ggad16f361d50392ae9c2b482346bff226da9059c00ac0a41a61be4716f40dce71cf">USBDM::SpiFifoOverflowInterrupt_Disabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:81</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga4157226a8f489e3d1d8321beed0afcb6"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga4157226a8f489e3d1d8321beed0afcb6">SPI_MCR_DCONF</a></div><div class="ttdeci">#define SPI_MCR_DCONF(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5870</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga128560de0ef72566ec53bb208e6ad5ef"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga128560de0ef72566ec53bb208e6ad5ef">SPI_CTAR_CPOL_MASK</a></div><div class="ttdeci">#define SPI_CTAR_CPOL_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5915</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gad15c92f5474cc1ba1ca2af14c92cbf26"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gad15c92f5474cc1ba1ca2af14c92cbf26">SPI_CTAR_ASC_MASK</a></div><div class="ttdeci">#define SPI_CTAR_ASC_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5888</div></div>
<div class="ttc" id="class_c_m_s_i_s_1_1_mutex_html_a31b508c15b0808eb895c8a24d4a7c7b7"><div class="ttname"><a href="class_c_m_s_i_s_1_1_mutex.html#a31b508c15b0808eb895c8a24d4a7c7b7">CMSIS::Mutex::release</a></div><div class="ttdeci">osStatus release()</div><div class="ttdoc">Release mutex. </div><div class="ttdef"><b>Definition:</b> cmsis.h:317</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html">USBDM::Spi_T</a></div><div class="ttdoc">Template class representing a SPI interface. </div><div class="ttdef"><b>Definition:</b> spi.h:540</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a0064dc31ad225f0a5a23dd971e9c6adf"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a0064dc31ad225f0a5a23dd971e9c6adf">USBDM::Spi::calculateDT</a></div><div class="ttdeci">static uint32_t calculateDT(float clockFrequency, float delay)</div><div class="ttdoc">Calculate Delay factors for DT (PCS negation to PCS assertion delay between transfers) ...</div><div class="ttdef"><b>Definition:</b> spi.h:222</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gac0822dc99c670f67d28ee973bc6dd9ec"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gac0822dc99c670f67d28ee973bc6dd9ec">SPI_RSER_RFDF_DIRS</a></div><div class="ttdeci">#define SPI_RSER_RFDF_DIRS(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5974</div></div>
<div class="ttc" id="group___s_p_i___group_html_gaa1b02c943327bca3733dae0586a26489"><div class="ttname"><a href="group___s_p_i___group.html#gaa1b02c943327bca3733dae0586a26489">USBDM::SpiFifoUnderflowInterrupt</a></div><div class="ttdeci">SpiFifoUnderflowInterrupt</div><div class="ttdoc">Controls Transmit FIFO Underflow interrupts (TFUF flag) </div><div class="ttdef"><b>Definition:</b> spi.h:72</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga24da8a6a97bc07dfa541aa1ff123133ea78fe17a06fb7dae03e0646589cb9fd1f"><div class="ttname"><a href="group___s_p_i___group.html#gga24da8a6a97bc07dfa541aa1ff123133ea78fe17a06fb7dae03e0646589cb9fd1f">USBDM::SpiTxCompleteInterrupt_Enabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:90</div></div>
<div class="ttc" id="struct_s_p_i___type_html"><div class="ttname"><a href="struct_s_p_i___type.html">SPI_Type</a></div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5797</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a1ee582ca039f1f2ee0e949138df3cd13"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a1ee582ca039f1f2ee0e949138df3cd13">USBDM::Spi::startTransaction</a></div><div class="ttdeci">int startTransaction(uint32_t config=0, int=0)</div><div class="ttdoc">Obtain SPI mutex(dummy) and set SPI configuration. </div><div class="ttdef"><b>Definition:</b> spi.h:312</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga166d71a39a4435151adbcfd0776e5f42a4ad1fe42affd2d19652902fd16528904"><div class="ttname"><a href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42a4ad1fe42affd2d19652902fd16528904">USBDM::SpiFifoRxRequest_Dma</a></div><div class="ttdef"><b>Definition:</b> spi.h:66</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga3556df040389407ff335eb2c0829231a"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3556df040389407ff335eb2c0829231a">SPI_MCR_CLR_TXF</a></div><div class="ttdeci">#define SPI_MCR_CLR_TXF(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5843</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga48f6e8c7555056687cfcc2c56fc63c46"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga48f6e8c7555056687cfcc2c56fc63c46">SPI_CTAR_DT</a></div><div class="ttdeci">#define SPI_CTAR_DT(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5887</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga81637c9ef8f34bdb499086de99c99858"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga81637c9ef8f34bdb499086de99c99858">SPI_MCR_PCSIS</a></div><div class="ttdeci">#define SPI_MCR_PCSIS(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5858</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html_a03afdc8ebe0a034f34606f0d31e0bd2f"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html#a03afdc8ebe0a034f34606f0d31e0bd2f">USBDM::Spi_T::~Spi_T</a></div><div class="ttdeci">virtual ~Spi_T()</div><div class="ttdef"><b>Definition:</b> spi.h:596</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a14462e2d706938d5a9f5219e69dbf81a"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a14462e2d706938d5a9f5219e69dbf81a">USBDM::Spi::spi</a></div><div class="ttdeci">volatile SPI_Type *const spi</div><div class="ttdoc">SPI hardware. </div><div class="ttdef"><b>Definition:</b> spi.h:126</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga3c988f51f8a9ffc42af2b1c780796666"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3c988f51f8a9ffc42af2b1c780796666">SPI_CTAR_CSSCK</a></div><div class="ttdeci">#define SPI_CTAR_CSSCK(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5893</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga78518edc7052d91f8c4685f4827d0064ac4ba4d91a0913773e0d0bee0b2a953ff"><div class="ttname"><a href="group___s_p_i___group.html#gga78518edc7052d91f8c4685f4827d0064ac4ba4d91a0913773e0d0bee0b2a953ff">USBDM::SpiEndOfQueueInterrupt_Enable</a></div><div class="ttdef"><b>Definition:</b> spi.h:97</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga7d4ee19c78f67b68c6320eefe6a53ac0"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga7d4ee19c78f67b68c6320eefe6a53ac0">SPI_CTAR_DT_MASK</a></div><div class="ttdeci">#define SPI_CTAR_DT_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5885</div></div>
<div class="ttc" id="group___s_p_i___group_html_ga24da8a6a97bc07dfa541aa1ff123133e"><div class="ttname"><a href="group___s_p_i___group.html#ga24da8a6a97bc07dfa541aa1ff123133e">USBDM::SpiTxCompleteInterrupt</a></div><div class="ttdeci">SpiTxCompleteInterrupt</div><div class="ttdoc">Controls Transmit complete interrupts (TCF Flag) </div><div class="ttdef"><b>Definition:</b> spi.h:88</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gae16156d09743ff57feb66a1e4c96d8c8"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gae16156d09743ff57feb66a1e4c96d8c8">SPI_CTAR_PASC</a></div><div class="ttdeci">#define SPI_CTAR_PASC(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5902</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a676b0b2122bae8364b0cf85396c256dc"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a676b0b2122bae8364b0cf85396c256dc">USBDM::Spi::enableTransfer</a></div><div class="ttdeci">void enableTransfer(bool enable=true)</div><div class="ttdoc">Starts and stops the SPI transfers. </div><div class="ttdef"><b>Definition:</b> spi.h:496</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a2820c51cce4f704bfe51eef3b4ac1316"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a2820c51cce4f704bfe51eef3b4ac1316">USBDM::Spi::unhandledCallback</a></div><div class="ttdeci">static void unhandledCallback(uint32_t)</div><div class="ttdoc">Callback to catch unhandled interrupt. </div><div class="ttdef"><b>Definition:</b> spi.h:118</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_ad107ee953db666ff7730db34c0cf0ba6"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#ad107ee953db666ff7730db34c0cf0ba6">USBDM::Spi::setDelays</a></div><div class="ttdeci">void setDelays(uint32_t clockFrequency, float cssck, float asc, float dt, int ctarNum)</div><div class="ttdoc">Sets the CTAR value for a given set of communication delays. </div><div class="ttdef"><b>Definition:</b> spi.h:272</div></div>
<div class="ttc" id="hardware_8h_html"><div class="ttname"><a href="hardware_8h.html">hardware.h</a></div><div class="ttdoc">(180.ARM_Peripherals/Project_Headers/hardware.h) </div></div>
<div class="ttc" id="cmsis_8h_html"><div class="ttname"><a href="cmsis_8h.html">cmsis.h</a></div><div class="ttdoc">(180.ARM_Peripherals/Project_Headers/cmsis.h) </div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a9a650282795d085ccc6ac1c68029601f"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a9a650282795d085ccc6ac1c68029601f">USBDM::Spi::pushrMask</a></div><div class="ttdeci">uint32_t pushrMask</div><div class="ttdoc">Value to combine with data. </div><div class="ttdef"><b>Definition:</b> spi.h:129</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_ae8349e369e8be8ce463e80bf088d1cc3"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#ae8349e369e8be8ce463e80bf088d1cc3">USBDM::Spi::disablePins</a></div><div class="ttdeci">virtual void disablePins()=0</div><div class="ttdoc">Disable (restore to usual default) pins used by SPI. </div></div>
<div class="ttc" id="namespace_u_s_b_d_m_html"><div class="ttname"><a href="namespace_u_s_b_d_m.html">USBDM</a></div><div class="ttdoc">Namespace enclosing USBDM classes. </div><div class="ttdef"><b>Definition:</b> adc.h:49</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga9b8b72764c75d047a2b4deb5a6a15619"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga9b8b72764c75d047a2b4deb5a6a15619">SPI_CTAR_PDT</a></div><div class="ttdeci">#define SPI_CTAR_PDT(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5899</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a2310350684da3c38d4ec9677c4f03938"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a2310350684da3c38d4ec9677c4f03938">USBDM::Spi::getConfig</a></div><div class="ttdeci">uint32_t getConfig()</div><div class="ttdoc">Get SPI Configuration value  This includes timing settings, word length and transmit order...</div><div class="ttdef"><b>Definition:</b> spi.h:440</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gae2a7d0ea8a143281112074fe3745a70c"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gae2a7d0ea8a143281112074fe3745a70c">SPI_PUSHR_PCS_MASK</a></div><div class="ttdeci">#define SPI_PUSHR_PCS_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:6000</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga23fe74057428ef330f653fe2115d270b"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga23fe74057428ef330f653fe2115d270b">SPI_RSER_RFOF_RE</a></div><div class="ttdeci">#define SPI_RSER_RFOF_RE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5980</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga24da8a6a97bc07dfa541aa1ff123133ea68ec23e62eee00ae851bd97b8660a5ad"><div class="ttname"><a href="group___s_p_i___group.html#gga24da8a6a97bc07dfa541aa1ff123133ea68ec23e62eee00ae851bd97b8660a5ad">USBDM::SpiTxCompleteInterrupt_Disabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:89</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html">USBDM::Spi</a></div><div class="ttdoc">Base class for representing an SPI interface. </div><div class="ttdef"><b>Definition:</b> spi.h:114</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga166d71a39a4435151adbcfd0776e5f42aceebc052ab86522769f8fcbc7e8c73a7"><div class="ttname"><a href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42aceebc052ab86522769f8fcbc7e8c73a7">USBDM::SpiFifoRxRequest_Interrupt</a></div><div class="ttdef"><b>Definition:</b> spi.h:65</div></div>
<div class="ttc" id="class_c_m_s_i_s_1_1_mutex_html"><div class="ttname"><a href="class_c_m_s_i_s_1_1_mutex.html">CMSIS::Mutex</a></div><div class="ttdoc">Wrapper for CMSIS mutex. </div><div class="ttdef"><b>Definition:</b> cmsis.h:268</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga2cd43b6b9241829083a88d903cc1ca2a"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga2cd43b6b9241829083a88d903cc1ca2a">SPI_CTAR_ASC</a></div><div class="ttdeci">#define SPI_CTAR_ASC(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5890</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_ac90be2d93df0b3956dc6809bbecd6ca3"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#ac90be2d93df0b3956dc6809bbecd6ca3">USBDM::Spi::calculateDividers</a></div><div class="ttdeci">static uint32_t calculateDividers(uint32_t clockFrequency, uint32_t frequency)</div><div class="ttdoc">Calculate communication speed factors for SPI. </div><div class="ttdef"><b>Definition:</b> spi.cpp:37</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a4eda8000bd46c2bc026a5608f8a7b244"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a4eda8000bd46c2bc026a5608f8a7b244">USBDM::Spi::endTransaction</a></div><div class="ttdeci">int endTransaction()</div><div class="ttdoc">Release SPI mutex - dummy routine. </div><div class="ttdef"><b>Definition:</b> spi.h:321</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a58ccc708840710b7ece02b8d87e8994d"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a58ccc708840710b7ece02b8d87e8994d">USBDM::Spi::setConfig</a></div><div class="ttdeci">void setConfig(uint32_t config)</div><div class="ttdoc">Set SPI Configuration value  This includes timing settings, word length and transmit order...</div><div class="ttdef"><b>Definition:</b> spi.h:430</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a5b1508841c9dd9067a2d449f463248f8"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a5b1508841c9dd9067a2d449f463248f8">USBDM::Spi::txRx</a></div><div class="ttdeci">uint32_t txRx(uint32_t data)</div><div class="ttdoc">Transmit and receive a value over SPI. </div><div class="ttdef"><b>Definition:</b> spi.cpp:131</div></div>
<div class="ttc" id="group___peripheral_pin_tables_html_ggad54854b5479931edb9f84488f3967abea82fbf0ab842c821bc0a2df5e24ae2055"><div class="ttname"><a href="group___peripheral_pin_tables.html#ggad54854b5479931edb9f84488f3967abea82fbf0ab842c821bc0a2df5e24ae2055">USBDM::PinPull_Up</a></div><div class="ttdoc">Weak pull-up. </div><div class="ttdef"><b>Definition:</b> pcr.h:155</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga2268eed5b839520e31e33af1fed92840af8e51e30adac618698a8538eee4b2e9d"><div class="ttname"><a href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840af8e51e30adac618698a8538eee4b2e9d">USBDM::SpiMode_1</a></div><div class="ttdef"><b>Definition:</b> spi.h:41</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga967844b3614749fa16ce2ddc72549653"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga967844b3614749fa16ce2ddc72549653">SPI_CTAR_CPHA</a></div><div class="ttdeci">#define SPI_CTAR_CPHA(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5914</div></div>
<div class="ttc" id="group___s_p_i___group_html_ggab9c61acefc026b506de46a7d251980c5af8aea8e913e5c190244d723fd8c62272"><div class="ttname"><a href="group___s_p_i___group.html#ggab9c61acefc026b506de46a7d251980c5af8aea8e913e5c190244d723fd8c62272">USBDM::SpiFifoTxRequest_Interrupt</a></div><div class="ttdef"><b>Definition:</b> spi.h:56</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a74fb8579db0492187c4053e8f2e03744"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a74fb8579db0492187c4053e8f2e03744">USBDM::Spi::calculateASC</a></div><div class="ttdeci">static uint32_t calculateASC(float clockFrequency, float delay)</div><div class="ttdoc">Calculate Delay factors for ASC (SCK to PCS negation delay) </div><div class="ttdef"><b>Definition:</b> spi.h:206</div></div>
<div class="ttc" id="group___s_p_i___group_html_ga385460784a6be6c97fa95c527db55b30"><div class="ttname"><a href="group___s_p_i___group.html#ga385460784a6be6c97fa95c527db55b30">USBDM::SpiOrder</a></div><div class="ttdeci">SpiOrder</div><div class="ttdef"><b>Definition:</b> spi.h:46</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga2268eed5b839520e31e33af1fed92840aa128f710d4ac8769d552907d7a698af7"><div class="ttname"><a href="group___s_p_i___group.html#gga2268eed5b839520e31e33af1fed92840aa128f710d4ac8769d552907d7a698af7">USBDM::SpiMode_2</a></div><div class="ttdef"><b>Definition:</b> spi.h:42</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html_acbf301257cd625fffb3737c74a522e64"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html#acbf301257cd625fffb3737c74a522e64">USBDM::Spi_T::setDelays</a></div><div class="ttdeci">void setDelays(float cssck=10 *USBDM::us, float asc=10 *USBDM::us, float dt=10 *USBDM::us, int ctarNum=0) override</div><div class="ttdoc">Sets the CTAR value for a given set of communication delays. </div><div class="ttdef"><b>Definition:</b> spi.h:630</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga57eacd49a756b99850d51f17e5d80475"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga57eacd49a756b99850d51f17e5d80475">SPI_RSER_TFFF_RE</a></div><div class="ttdeci">#define SPI_RSER_TFFF_RE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5986</div></div>
<div class="ttc" id="group___s_p_i___group_html_gad16f361d50392ae9c2b482346bff226d"><div class="ttname"><a href="group___s_p_i___group.html#gad16f361d50392ae9c2b482346bff226d">USBDM::SpiFifoOverflowInterrupt</a></div><div class="ttdeci">SpiFifoOverflowInterrupt</div><div class="ttdoc">Controls Receive FIFO Overflow interrupts (RFOF flag) </div><div class="ttdef"><b>Definition:</b> spi.h:80</div></div>
<div class="ttc" id="struct_s_p_i___type_html_a9bbdd6aba74a5acac2353d20f69cba9c"><div class="ttname"><a href="struct_s_p_i___type.html#a9bbdd6aba74a5acac2353d20f69cba9c">SPI_Type::CTAR</a></div><div class="ttdeci">__IO uint32_t CTAR[2]</div><div class="ttdoc">&lt; 0000: (size=0008) </div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5802</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gad3604b04d87365a05286029814555e09"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gad3604b04d87365a05286029814555e09">SPI_RSER_EOQF_RE</a></div><div class="ttdeci">#define SPI_RSER_EOQF_RE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5992</div></div>
<div class="ttc" id="group___s_p_i___group_html_ggaa1b02c943327bca3733dae0586a26489a87cafbf6da5a8eebaa795e91d1cc6764"><div class="ttname"><a href="group___s_p_i___group.html#ggaa1b02c943327bca3733dae0586a26489a87cafbf6da5a8eebaa795e91d1cc6764">USBDM::SpiFifoUnderflowInterrupt_Enabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:74</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_aec6ea2bf07849283a2f9d5a8a1128653"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#aec6ea2bf07849283a2f9d5a8a1128653">USBDM::Spi::configureInterrupts</a></div><div class="ttdeci">void configureInterrupts(SpiTxCompleteInterrupt spiTxCompleteInterrupt=SpiTxCompleteInterrupt_Disabled, SpiEndOfQueueInterrupt spiEndOfQueueInterrupt=SpiEndOfQueueInterrupt_Disable, SpiFifoUnderflowInterrupt spiFifoUnderflowInterrupt=SpiFifoUnderflowInterrupt_Disabled, SpiFifoOverflowInterrupt spiFifoOverflowInterrupt=SpiFifoOverflowInterrupt_Disabled)</div><div class="ttdef"><b>Definition:</b> spi.h:522</div></div>
<div class="ttc" id="group___s_p_i___group_html_gab9c61acefc026b506de46a7d251980c5"><div class="ttname"><a href="group___s_p_i___group.html#gab9c61acefc026b506de46a7d251980c5">USBDM::SpiFifoTxRequest</a></div><div class="ttdeci">SpiFifoTxRequest</div><div class="ttdoc">Transmit FIFO Fill Request interrupt/DMA enable (TFFF flag) </div><div class="ttdef"><b>Definition:</b> spi.h:54</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_ac29bd00cea4a63560a5c52c350de4233"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#ac29bd00cea4a63560a5c52c350de4233">USBDM::Spi::getCTAR0Value</a></div><div class="ttdeci">uint32_t getCTAR0Value()</div><div class="ttdoc">Get SPI.CTAR0 value. </div><div class="ttdef"><b>Definition:</b> spi.h:464</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a30374c27343d3478dd1220dae4be74bb"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a30374c27343d3478dd1220dae4be74bb">USBDM::Spi::calculateCSSCK</a></div><div class="ttdeci">static uint32_t calculateCSSCK(float clockFrequency, float delay)</div><div class="ttdoc">Calculate Delay factors for CSSCK (PCS assertion to SCK Delay Scaler) </div><div class="ttdef"><b>Definition:</b> spi.h:190</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga5c824276fa48ae7b05fc922d20d237c0"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga5c824276fa48ae7b05fc922d20d237c0">SPI_CTAR_CSSCK_MASK</a></div><div class="ttdeci">#define SPI_CTAR_CSSCK_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5891</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga166d71a39a4435151adbcfd0776e5f42a6cd016876d8d6dc4b5952b24184e3735"><div class="ttname"><a href="group___s_p_i___group.html#gga166d71a39a4435151adbcfd0776e5f42a6cd016876d8d6dc4b5952b24184e3735">USBDM::SpiFifoRxRequest_Disabled</a></div><div class="ttdef"><b>Definition:</b> spi.h:64</div></div>
<div class="ttc" id="struct_s_p_i___type_html_a651ac70598a7c82ab57fc9eb672f3d70"><div class="ttname"><a href="struct_s_p_i___type.html#a651ac70598a7c82ab57fc9eb672f3d70">SPI_Type::MCR</a></div><div class="ttdeci">__IO uint32_t MCR</div><div class="ttdoc">0000: Module Configuration Register </div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5798</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html_a75c7f48e26ab2c087cb23a02ef67dba4"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html#a75c7f48e26ab2c087cb23a02ef67dba4">USBDM::Spi_T::getStatus</a></div><div class="ttdeci">static uint32_t getStatus()</div><div class="ttdoc">Gets and clears status flags. </div><div class="ttdef"><b>Definition:</b> spi.h:675</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gadefae41f4962681a83ae61a653026dc2"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gadefae41f4962681a83ae61a653026dc2">SPI_CTAR_LSBFE_MASK</a></div><div class="ttdeci">#define SPI_CTAR_LSBFE_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5906</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a38e4a75ad31e628928115e298b34177b"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a38e4a75ad31e628928115e298b34177b">USBDM::Spi::Spi</a></div><div class="ttdeci">Spi(volatile SPI_Type *baseAddress)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> spi.h:137</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga217a65114bc44312a9c953c3fd394464"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga217a65114bc44312a9c953c3fd394464">SPI_CTAR_FMSZ</a></div><div class="ttdeci">#define SPI_CTAR_FMSZ(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5920</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga562416b33f74ea5595e122d862093e51"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga562416b33f74ea5595e122d862093e51">SPI_CTAR_CPHA_MASK</a></div><div class="ttdeci">#define SPI_CTAR_CPHA_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5912</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gaae3c74d637272a70177d20cfde606d6d"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gaae3c74d637272a70177d20cfde606d6d">SPI_MCR_CLR_RXF</a></div><div class="ttdeci">#define SPI_MCR_CLR_RXF(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5840</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_ac175c2cba3d36b7cfd239693e3db9194"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#ac175c2cba3d36b7cfd239693e3db9194">USBDM::Spi::txRxBytes</a></div><div class="ttdeci">void txRxBytes(uint32_t dataSize, const uint8_t *txData, uint8_t *rxData=0)</div><div class="ttdoc">Transmit and receive a series of 4 to 8-bit values. </div><div class="ttdef"><b>Definition:</b> spi.cpp:150</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a1dbafa192c89a707da8ee2b04ca82297"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a1dbafa192c89a707da8ee2b04ca82297">USBDM::Spi::getCTAR1Value</a></div><div class="ttdeci">uint32_t getCTAR1Value()</div><div class="ttdoc">Get SPI.CTAR1 value. </div><div class="ttdef"><b>Definition:</b> spi.h:472</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga71b046a902929cf107f46e422092ff33"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga71b046a902929cf107f46e422092ff33">SPI_CTAR_FMSZ_MASK</a></div><div class="ttdeci">#define SPI_CTAR_FMSZ_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5918</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga615e3c6718820a26ff62dde21b352b27"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga615e3c6718820a26ff62dde21b352b27">SPI_MCR_HALT</a></div><div class="ttdeci">#define SPI_MCR_HALT(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5834</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html_ad40f7179c4b52afe5b75ec9eef0d55fa"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html#ad40f7179c4b52afe5b75ec9eef0d55fa">USBDM::Spi_T::Spi_T</a></div><div class="ttdeci">Spi_T()</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> spi.h:637</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_gad1ba5817c825831950fc73cc726f0737"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#gad1ba5817c825831950fc73cc726f0737">SPI_CTAR_BR_MASK</a></div><div class="ttdeci">#define SPI_CTAR_BR_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5882</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a15ef188da1dddfb5ce90374b5cea4569"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a15ef188da1dddfb5ce90374b5cea4569">USBDM::Spi::calculateDelay</a></div><div class="ttdeci">static void calculateDelay(float clockFrequency, float delay, int &amp;bestPrescale, int &amp;bestDivider)</div><div class="ttdoc">Calculate Delay factors Used for ASC, DT and CSSCK. </div><div class="ttdef"><b>Definition:</b> spi.cpp:99</div></div>
<div class="ttc" id="namespace_u_s_b_d_m_html_ab1f3d9325270a2a7eead72ecb92f22ab"><div class="ttname"><a href="namespace_u_s_b_d_m.html#ab1f3d9325270a2a7eead72ecb92f22ab">USBDM::Polarity</a></div><div class="ttdeci">Polarity</div><div class="ttdef"><b>Definition:</b> pcr.h:28</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga3680f8dc0308705f06e234914edfa14b"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga3680f8dc0308705f06e234914edfa14b">SPI_CTAR_PDT_MASK</a></div><div class="ttdeci">#define SPI_CTAR_PDT_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5897</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga88c670302548b2d5b5f032b5709bc366"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga88c670302548b2d5b5f032b5709bc366">SPI_MCR_HALT_MASK</a></div><div class="ttdeci">#define SPI_MCR_HALT_MASK</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5832</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_acf9ec66c8981f6632ed479ae7affe1fd"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#acf9ec66c8981f6632ed479ae7affe1fd">USBDM::Spi::enablePins</a></div><div class="ttdeci">virtual void enablePins()=0</div><div class="ttdoc">Enable pins used by SPI. </div></div>
<div class="ttc" id="group___s_p_i___group_html_ga78518edc7052d91f8c4685f4827d0064"><div class="ttname"><a href="group___s_p_i___group.html#ga78518edc7052d91f8c4685f4827d0064">USBDM::SpiEndOfQueueInterrupt</a></div><div class="ttdeci">SpiEndOfQueueInterrupt</div><div class="ttdoc">Controls DSPI Finished interrupts (EOQF flag) </div><div class="ttdef"><b>Definition:</b> spi.h:95</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a1a9d90c638e7d4fa0cd54021ea94c8df"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a1a9d90c638e7d4fa0cd54021ea94c8df">USBDM::Spi::setPushrValue</a></div><div class="ttdeci">void setPushrValue(uint32_t pushrMask)</div><div class="ttdoc">Set value that is combined with data for PUSHR register For example this may be used to control which...</div><div class="ttdef"><b>Definition:</b> spi.h:389</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_irq___t_html_a2276134d56282585916abefdf9b249e0"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi_irq___t.html#a2276134d56282585916abefdf9b249e0">USBDM::SpiIrq_T::setCallback</a></div><div class="ttdeci">static void setCallback(SpiCallbackFunction theCallback)</div><div class="ttdoc">Set Callback function . </div><div class="ttdef"><b>Definition:</b> spi.h:710</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga0d53d442648e115ee18c1f0f6ed065c3"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga0d53d442648e115ee18c1f0f6ed065c3">SPI_RSER_TFUF_RE</a></div><div class="ttdeci">#define SPI_RSER_TFUF_RE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5989</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_a683f154ccd1c9142d2af90c8c1079af1"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#a683f154ccd1c9142d2af90c8c1079af1">USBDM::Spi::txRxWords</a></div><div class="ttdeci">void txRxWords(uint32_t dataSize, const uint16_t *txData, uint16_t *rxData=0)</div><div class="ttdoc">Transmit and receive a series of 9 to 16-bit values. </div><div class="ttdef"><b>Definition:</b> spi.cpp:182</div></div>
<div class="ttc" id="group___s_p_i___register___masks___g_r_o_u_p_html_ga220c88340bd372ec2b1a91557caac1b6"><div class="ttname"><a href="group___s_p_i___register___masks___g_r_o_u_p.html#ga220c88340bd372ec2b1a91557caac1b6">SPI_RSER_RFDF_RE</a></div><div class="ttdeci">#define SPI_RSER_RFDF_RE(x)</div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5977</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_irq___t_html"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi_irq___t.html">USBDM::SpiIrq_T</a></div><div class="ttdoc">Template class to provide callback. </div><div class="ttdef"><b>Definition:</b> spi.h:690</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi___t_html_a19835258786c6efee2a654d2aa9be713"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi___t.html#a19835258786c6efee2a654d2aa9be713">USBDM::Spi_T::disablePins</a></div><div class="ttdeci">virtual void disablePins() override</div><div class="ttdoc">Disable (restore to usual default) pins used by SPI. </div><div class="ttdef"><b>Definition:</b> spi.h:603</div></div>
<div class="ttc" id="class_u_s_b_d_m_1_1_spi_html_aec4e66ff12e511c1e74dd82b5ff13cb9"><div class="ttname"><a href="class_u_s_b_d_m_1_1_spi.html#aec4e66ff12e511c1e74dd82b5ff13cb9">USBDM::Spi::setCTAR0Value</a></div><div class="ttdeci">void setCTAR0Value(uint32_t ctar)</div><div class="ttdoc">Set SPI.CTAR0 value. </div><div class="ttdef"><b>Definition:</b> spi.h:448</div></div>
<div class="ttc" id="group___s_p_i___group_html_ga2f82d5c5cf2795a2a451a9394af06c6c"><div class="ttname"><a href="group___s_p_i___group.html#ga2f82d5c5cf2795a2a451a9394af06c6c">USBDM::SpiCallbackFunction</a></div><div class="ttdeci">void(* SpiCallbackFunction)(uint32_t status)</div><div class="ttdoc">Type definition for DMA interrupt call back. </div><div class="ttdef"><b>Definition:</b> spi.h:37</div></div>
<div class="ttc" id="group___s_p_i___group_html_gga385460784a6be6c97fa95c527db55b30acb651e5cb1480fa8a12d089515d74b9d"><div class="ttname"><a href="group___s_p_i___group.html#gga385460784a6be6c97fa95c527db55b30acb651e5cb1480fa8a12d089515d74b9d">USBDM::SpiOrder_MsbFirst</a></div><div class="ttdef"><b>Definition:</b> spi.h:47</div></div>
<div class="ttc" id="struct_s_p_i___type_html_a107d9410bde132e409d2238beea64d07"><div class="ttname"><a href="struct_s_p_i___type.html#a107d9410bde132e409d2238beea64d07">SPI_Type::RSER</a></div><div class="ttdeci">__IO uint32_t RSER</div><div class="ttdoc">0030: DMA/Interrupt Request Select and Enable Register </div><div class="ttdef"><b>Definition:</b> FRDM_K20D50M.h:5807</div></div>
<div class="ttc" id="class_c_m_s_i_s_1_1_mutex_html_a14664c6f781ff30d23b4fec5519ab301"><div class="ttname"><a href="class_c_m_s_i_s_1_1_mutex.html#a14664c6f781ff30d23b4fec5519ab301">CMSIS::Mutex::wait</a></div><div class="ttdeci">osStatus wait(uint32_t millisec=osWaitForever)</div><div class="ttdoc">Obtain mutex. </div><div class="ttdef"><b>Definition:</b> cmsis.h:304</div></div>
<div class="ttc" id="group___s_p_i___group_html_ga150096f5b48c7fc7fb9c89147ac178ea"><div class="ttname"><a href="group___s_p_i___group.html#ga150096f5b48c7fc7fb9c89147ac178ea">USBDM::SpiModeValue</a></div><div class="ttdeci">uint32_t SpiModeValue</div><div class="ttdef"><b>Definition:</b> spi.h:99</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 21 2017 07:45:22 for USBDM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

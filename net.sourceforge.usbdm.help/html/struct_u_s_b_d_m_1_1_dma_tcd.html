<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>USBDM: USBDM::DmaTcd Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">USBDM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_u_s_b_d_m.html">USBDM</a></li><li class="navelem"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html">DmaTcd</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_u_s_b_d_m_1_1_dma_tcd-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">USBDM::DmaTcd Struct Reference<div class="ingroups"><a class="el" href="group___u_s_b_d_m___group.html">USBDM Peripheral Interface</a> &raquo; <a class="el" href="group___d_m_a___group.html">DMA, Direct Memory Access (DMA)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="dma_8h_source.html">dma.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afdd994ec62c9a0379b95188781e58688"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#afdd994ec62c9a0379b95188781e58688">SADDR</a></td></tr>
<tr class="memdesc:afdd994ec62c9a0379b95188781e58688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Source address.  <a href="#afdd994ec62c9a0379b95188781e58688">More...</a><br /></td></tr>
<tr class="separator:afdd994ec62c9a0379b95188781e58688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f85b0828605b9dc37fba764dc51b953"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#a3f85b0828605b9dc37fba764dc51b953">SOFF</a></td></tr>
<tr class="memdesc:a3f85b0828605b9dc37fba764dc51b953"><td class="mdescLeft">&#160;</td><td class="mdescRight">SADDR offset.  <a href="#a3f85b0828605b9dc37fba764dc51b953">More...</a><br /></td></tr>
<tr class="separator:a3f85b0828605b9dc37fba764dc51b953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ca3da8be6952110ee12ec1141ee0d8"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#ac1ca3da8be6952110ee12ec1141ee0d8">ATTR</a></td></tr>
<tr class="memdesc:ac1ca3da8be6952110ee12ec1141ee0d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer attributes.  <a href="#ac1ca3da8be6952110ee12ec1141ee0d8">More...</a><br /></td></tr>
<tr class="separator:ac1ca3da8be6952110ee12ec1141ee0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac604d84e95751a3fe0454167e81c127d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#ac604d84e95751a3fe0454167e81c127d">NBYTES</a></td></tr>
<tr class="memdesc:ac604d84e95751a3fe0454167e81c127d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minor loop byte count.  <a href="#ac604d84e95751a3fe0454167e81c127d">More...</a><br /></td></tr>
<tr class="separator:ac604d84e95751a3fe0454167e81c127d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23634f6e95350f9c9adfa375f81ea2aa"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#a23634f6e95350f9c9adfa375f81ea2aa">SLAST</a></td></tr>
<tr class="memdesc:a23634f6e95350f9c9adfa375f81ea2aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last SADDR adjustment.  <a href="#a23634f6e95350f9c9adfa375f81ea2aa">More...</a><br /></td></tr>
<tr class="separator:a23634f6e95350f9c9adfa375f81ea2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1213ca6af5d043d7d3981d18bbde54e0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#a1213ca6af5d043d7d3981d18bbde54e0">DADDR</a></td></tr>
<tr class="memdesc:a1213ca6af5d043d7d3981d18bbde54e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destination address.  <a href="#a1213ca6af5d043d7d3981d18bbde54e0">More...</a><br /></td></tr>
<tr class="separator:a1213ca6af5d043d7d3981d18bbde54e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7042263e95d3f0ae2cd97dcb3337dbbd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#a7042263e95d3f0ae2cd97dcb3337dbbd">DOFF</a></td></tr>
<tr class="memdesc:a7042263e95d3f0ae2cd97dcb3337dbbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">DADDR offset.  <a href="#a7042263e95d3f0ae2cd97dcb3337dbbd">More...</a><br /></td></tr>
<tr class="separator:a7042263e95d3f0ae2cd97dcb3337dbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fa74644d359058a8c2cced0e6fdf9c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#aa4fa74644d359058a8c2cced0e6fdf9c">CITER</a></td></tr>
<tr class="memdesc:aa4fa74644d359058a8c2cced0e6fdf9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Major loop count.  <a href="#aa4fa74644d359058a8c2cced0e6fdf9c">More...</a><br /></td></tr>
<tr class="separator:aa4fa74644d359058a8c2cced0e6fdf9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95401ced2aa06d804875888b2472e0b5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#a95401ced2aa06d804875888b2472e0b5">DLAST</a></td></tr>
<tr class="memdesc:a95401ced2aa06d804875888b2472e0b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last DADDR adjustment.  <a href="#a95401ced2aa06d804875888b2472e0b5">More...</a><br /></td></tr>
<tr class="separator:a95401ced2aa06d804875888b2472e0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4bd37d5e58e980d76e118743c51946"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d_m_1_1_dma_tcd.html#acd4bd37d5e58e980d76e118743c51946">CSR</a></td></tr>
<tr class="memdesc:acd4bd37d5e58e980d76e118743c51946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control and Status.  <a href="#acd4bd37d5e58e980d76e118743c51946">More...</a><br /></td></tr>
<tr class="separator:acd4bd37d5e58e980d76e118743c51946"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">* +------------------------------+            Simple DMA mode (MLNO = Minor Loop Mapping Disabled)
* | Major Loop =                 |            ==================================================
* |    CITER x Minor Loop        |
* |                              |            Each DMA request triggers a minor-loop transfer sequence.
* | +--------------------------+ |&lt;-DMA Req.  The minor loops are counted in the major-loop.
* | | Minor Loop               | |
* | | Each transfer            | |            The following are used during a minor loop:
* | |   SADDR-&gt;DADDR           | |             - SADDR Source address
* | |   SADDR += SOFF          | |             - SOFF  Adjustment applied to SADDR after each transfer
* | |   DADDR += DOFF          | |             - DADDR Destination address
* | | Total transfer is NBYTES | |             - DOFF  Adjustment applied to DADDR after each transfer
* | +--------------------------+ |             - NBYTES Number of bytes to transfer
* | +--------------------------+ |&lt;-DMA Req.   - Attributes
* | | Minor Loop               | |               - ATTR_SSIZE, ATTR_DSIZE Source and destination transfer sizes
* |..............................|               - ATTR_SMOD, ATTR_DMOD Modulo --TODO
* | |                          | |
* | +--------------------------+ |             The number of reads and writes done will depend on NBYTES, SSIZE and DSIZE
* | +--------------------------+ |&lt;-DMA Req.   For example: NBYTES=12, SSIZE=16-bits, DSIZE=32-bits =&gt; 6 reads, 3 writes
* | | Minor Loop               | |             NBYTES must be an even multiple of SSIZE and DSIZE in bytes.
* | | Each transfer            | |
* | |   SADDR-&gt;DADDR           | |            The following are used by the major loop
* | |   SADDR += SOFF          | |             - SLAST Adjustment applied to SADDR after major loop
* | |   DADDR += DOFF          | |             - DLAST Adjustment applied to DADDR after major loop
* | | Total transfer is NBYTES | |             - CITER Major loop counter - counts how many minor loops
* | +--------------------------+ |
* |                              |            SLAST and DLAST may be used to reset the addresses to the initial value or
* | At end of Major Loop         |            link to the next transfer.
* |    SADDR += SLAST            |            The total transferred for the entire sequence is CITER x NBYTES.
* |    DADDR += DLAST            |
* |                              |            Important options in the CSR:
* | Total transfer =             |              - DMA_CSR_INTMAJOR = Generate interrupt at end of Major-loop
* |    CITER*NBYTES              |              - DMA_CSR_DREQ     = Clear hardware request at end of Major-loop
* +------------------------------+              - DMA_CSR_START    = Start transfer. Used for software transfers. Automatically cleared.
* </pre><p>Structure to define a DMA transfer </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="dma-memory-example_8cpp-example.html#_a1">dma-memory-example.cpp</a>, <a class="el" href="dma-spi-example_8cpp-example.html#_a10">dma-spi-example.cpp</a>, and <a class="el" href="dma-uart-example_8cpp-example.html#_a4">dma-uart-example.cpp</a>.</dd>
</dl></div><h2 class="groupheader">Member Data Documentation</h2>
<a id="ac1ca3da8be6952110ee12ec1141ee0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ca3da8be6952110ee12ec1141ee0d8">&#9670;&nbsp;</a></span>ATTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBDM::DmaTcd::ATTR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer attributes. </p>

</div>
</div>
<a id="aa4fa74644d359058a8c2cced0e6fdf9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fa74644d359058a8c2cced0e6fdf9c">&#9670;&nbsp;</a></span>CITER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBDM::DmaTcd::CITER</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Major loop count. </p>

</div>
</div>
<a id="acd4bd37d5e58e980d76e118743c51946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4bd37d5e58e980d76e118743c51946">&#9670;&nbsp;</a></span>CSR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBDM::DmaTcd::CSR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control and Status. </p>

</div>
</div>
<a id="a1213ca6af5d043d7d3981d18bbde54e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1213ca6af5d043d7d3981d18bbde54e0">&#9670;&nbsp;</a></span>DADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBDM::DmaTcd::DADDR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destination address. </p>

</div>
</div>
<a id="a95401ced2aa06d804875888b2472e0b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95401ced2aa06d804875888b2472e0b5">&#9670;&nbsp;</a></span>DLAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBDM::DmaTcd::DLAST</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last DADDR adjustment. </p>

</div>
</div>
<a id="a7042263e95d3f0ae2cd97dcb3337dbbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7042263e95d3f0ae2cd97dcb3337dbbd">&#9670;&nbsp;</a></span>DOFF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBDM::DmaTcd::DOFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DADDR offset. </p>

</div>
</div>
<a id="ac604d84e95751a3fe0454167e81c127d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac604d84e95751a3fe0454167e81c127d">&#9670;&nbsp;</a></span>NBYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBDM::DmaTcd::NBYTES</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minor loop byte count. </p>

</div>
</div>
<a id="afdd994ec62c9a0379b95188781e58688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd994ec62c9a0379b95188781e58688">&#9670;&nbsp;</a></span>SADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBDM::DmaTcd::SADDR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Source address. </p>

</div>
</div>
<a id="a23634f6e95350f9c9adfa375f81ea2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23634f6e95350f9c9adfa375f81ea2aa">&#9670;&nbsp;</a></span>SLAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBDM::DmaTcd::SLAST</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last SADDR adjustment. </p>

</div>
</div>
<a id="a3f85b0828605b9dc37fba764dc51b953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f85b0828605b9dc37fba764dc51b953">&#9670;&nbsp;</a></span>SOFF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBDM::DmaTcd::SOFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SADDR offset. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>Project_Headers/<a class="el" href="dma_8h_source.html">dma.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 12 2017 08:54:41 for USBDM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
